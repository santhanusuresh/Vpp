(window["webpackJsonpvpp-react"]=window["webpackJsonpvpp-react"]||[]).push([[0],{107:function(e,t,n){e.exports=n.p+"static/media/Shape.979e4c6a.svg"},108:function(e,t,n){e.exports=n.p+"static/media/four-rectangles.42551a87.svg"},109:function(e,t,n){e.exports=n.p+"static/media/cog-wheel.00cc698c.svg"},110:function(e,t,n){e.exports=n.p+"static/media/stock-market-arrow.5c2714bb.svg"},111:function(e,t,n){e.exports=n.p+"static/media/stock-market-arrow-up.c382297a.svg"},130:function(e,t,n){e.exports=n.p+"static/media/spinner.0d0345f6.gif"},133:function(e,t,n){e.exports=n.p+"static/media/map.955f24fe.svg"},158:function(e,t,n){e.exports=n(194)},163:function(e,t,n){},171:function(e,t,n){e.exports=n.p+"static/media/Avatar.29d9e219.svg"},172:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),r=n.n(i),l=(n(163),n(32)),s=n(33),c=n(35),d=n(34),u=n(36),m=n(68),h=n(50),p=n(26),f=n(77),y=n(14),g=n(4),v=n(127),w=n(23),E=n(253),b=n(222),D=n(224),S=n(227),C=n(221),x=n(59),R=n(225),O=n(91),P=n.n(O),j=n(90),G=n.n(j),I=n(228),A=n(229),k=n(230),F="LOGIN_ERROR",T=n(226),B=n(252),H=n(231),N=n(7),M=n(69),L=(n(105),n(124)),z=n.n(L);function J(e){return o.a.createElement("div",{style:{position:"absolute",height:"100%",transform:"rotate(".concat(e.turns,"turn) rotate(-115deg)")}},o.a.createElement("div",{style:e.style}))}var W=function(e){var t=1/e.count;return z.a.range(e.count/1.5).map(function(n){return o.a.createElement(J,{turns:n*t,style:e.style})})},U=n(125),Y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas;new U.Chart(e,{type:"line",data:{labels:this.props.time,datasets:[{data:this.props.availablePower,label:"",pointRadius:0,borderColor:"#25A8A8",fill:!1},{data:this.props.netInGrid,pointRadius:0,label:"",borderColor:"#B5D145",fill:!1}]},options:{scales:{xAxes:[{ticks:{fontColor:"#828282",fontFamily:"Gotham Rounded Medium"}}],yAxes:[{ticks:{fontColor:"#828282",fontFamily:"Gotham Rounded Medium"}}]},title:{display:!1,text:"World population per region (in millions)"},legend:{display:!1}}})}},{key:"render",value:function(){return o.a.createElement("canvas",{ref:"canvas"})}}]),t}(a.Component),Q=n(62),$=n.n(Q),_=n(94),V=n.n(_),X=(n(107),n(87)),Z=n.n(X),q=(n(108),n(88)),K=n.n(q),ee=(n(109),n(89)),te=n.n(ee),ne=(n(110),n(111),n(48));function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ie={isAuthenticated:!1,loading:!1,user:"",sessionUser:{},error:{}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return oe({},e,{isAuthenticated:t.payload.isAuthenticated,user:t.payload.user});case F:return oe({},e,{error:t.payload});case"SESSION_USER":return oe({},e,{sessionUser:t.payload});default:return e}},le=Object(ne.c)({auth:re}),se=n(126),ce=(n(168),[se.a]),de=Object(ne.e)(le,{},Object(ne.d)(ne.a.apply(void 0,ce)));function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var he=Object(v.a)(function(e){return{root:{display:"flex",backgroundColor:"#FBFBFB"},appBar:{zIndex:e.zIndex.drawer+2,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:me({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},drawerRight:{width:340},drawerZIndex:{zIndex:0}}}),pe=Object(N.a)({listRootClose:{margin:"0 auto",paddingLeft:"1%"},text:{fontSize:"2vw"}})(Object(p.b)(function(e){return{auth:e.auth}},{getSessionUser:function(){return function(e){return fetch("https://monitoring.shinehub.com.au/handler/web/User/handleQueryUserDetail.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{}})})}).then(function(e){return e.json()}).then(function(e){console.log("userDetails",e),localStorage.setItem("exp",e.d.expiretime)}),fetch("https://monitoring.shinehub.com.au/handler/web/User/handleQueryUserDetail.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{}})})})}},logout:function(e){return function(t){localStorage.removeItem("user"),t({type:"LOGIN",payload:{isAuthenticated:!1,user:""}}),e.push("/login")}}})(Object(h.f)(function(e){var t,n,i=he(),r=Object(w.a)(),l=o.a.useState({open:!1,openRight:!1,profile:"profile",editProfile:!1,navbarHidden:!1}),s=Object(f.a)(l,2),c=s[0],d=s[1],u=o.a.useState({}),m=Object(f.a)(u,2),h=(m[0],m[1]),p=Object(a.useState)({email:"",phone:""}),v=Object(f.a)(p,2),O=v[0],j=v[1];function F(e,t){var n;d(me({},c,(n={},Object(y.a)(n,e,!0),Object(y.a)(n,"profile",t),n)))}var N=function(e){O.email,O.phone;j(me({},O,Object(y.a)({},e.target.name,e.target.value)))};function M(e){d(me({},c,Object(y.a)({},e,!1)))}Object(a.useEffect)(function(){console.log("layout"),e.getSessionUser().then(function(e){return e.json()}).then(function(t){console.log("session expiretime",typeof t.d.expiretime),0===t.d.expiretime&&e.history.push("/login"),console.log("session user",t),j(me({},O,{email:t.d.usEmail,phone:t.d.usPhone})),h(t.d),de.dispatch({type:"SESSION_USER",payload:t.d})}),"/login"!==e.location.pathname&&e.auth.isAuthenticated?(console.log("yaha bhi aaya"),d(me({},c,{navbarHidden:!1}))):(console.log("yaha aaya"),d(me({},c,{navbarHidden:!0}))),console.log("navbarHidden",c.navbarHidden)},[]);return o.a.createElement("div",null,c.navbarHidden?null:o.a.createElement("div",{className:i.root},o.a.createElement(C.a,null),o.a.createElement(b.a,{style:{backgroundColor:"#fff"},position:"fixed",className:Object(g.a)(i.appBar,Object(y.a)({},i.appBarShift,c.open))},o.a.createElement(D.a,null,o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(R.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return F("open")},edge:"start",className:Object(g.a)(i.menuButton,Object(y.a)({},i.hide,c.open))},o.a.createElement("img",{src:te.a})),o.a.createElement(x.a,{variant:"h6",noWrap:!0},o.a.createElement("a",{href:"https://monitoring.shinehub.com.au"},o.a.createElement("img",{src:$.a})))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("img",{onClick:function(){F("openRight","profile")},src:V.a,style:{width:30,height:30}}))))),o.a.createElement(E.a,{style:{textAlign:"center",margin:"0 auto"},variant:"permanent",className:Object(g.a)(i.drawer,(t={},Object(y.a)(t,i.drawerOpen,c.open),Object(y.a)(t,i.drawerClose,!c.open),t)),classes:{paper:Object(g.a)((n={},Object(y.a)(n,i.drawerOpen,c.open),Object(y.a)(n,i.drawerClose,!c.open),n))},open:c.open},o.a.createElement("div",{className:i.toolbar},o.a.createElement(R.a,{onClick:function(){return M("open")}},"rtl"===r.direction?o.a.createElement(G.a,null):o.a.createElement(P.a,null))),o.a.createElement(T.a,null),o.a.createElement(S.a,{classes:{root:i.listRootClose},style:c.open?{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",paddingLeft:"1%"}:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",paddingLeft:"7%"}},console.log("window.innerHeight",window.innerHeight),[{icon:Z.a,text:"Overview",onClick:"/"},{icon:K.a,text:"Events",onClick:"/events"}].map(function(t,n){return o.a.createElement(I.a,{button:!0,style:"Events"===t.text?{paddingLeft:"12%",display:"flex",alignItems:"center"}:{display:"flex",alignItems:"center"},key:n,onClick:function(){return e.history.push(t.onClick)}},o.a.createElement(A.a,null,o.a.createElement("img",{src:t.icon})),o.a.createElement(k.a,{style:{color:"#83C4C4"},primary:t.text,classes:{root:i.text}}))}))),o.a.createElement(E.a,{anchor:"right",classes:{paperAnchorRight:i.drawerRight},style:{zIndex:1},open:c.openRight,onClose:function(){return M("openRight")}},o.a.createElement("div",{className:i.toolbar}),console.log("state.profile",c.profile),console.log("state.profile",c),"profile"===c.profile?o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"column",alignItems:"center",paddingTop:"13%",height:"100%"}},o.a.createElement("div",{style:{width:"100%",flexDirection:"column",display:"flex"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},o.a.createElement("img",{src:V.a,style:{width:150,height:150}}),o.a.createElement(x.a,{style:{padding:"3% 0 10% 0",fontSize:"200%",fontWeight:"500",color:"#2E384D",fontFamily:"Gotham Rounded Medium"}},e.auth.sessionUser.usName),o.a.createElement(T.a,{style:{width:"80%"},variant:"middle"})),o.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-start"}},o.a.createElement("div",{style:{width:"100%",padding:"6% 0 6% 6%"}},o.a.createElement(x.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Medium",fontSize:13}},"email".toUpperCase()),c.editProfile?o.a.createElement(B.a,{variant:"outlined",inputProps:{height:"1px",margin:0,padding:0},name:"email",onChange:N,value:O.email}):o.a.createElement(x.a,{style:{color:"#333333",fontFamily:"Gotham Rounded Medium"}},e.auth.sessionUser.usEmail)),o.a.createElement("div",{style:{width:"100%",paddingLeft:"6%"}},o.a.createElement(x.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Medium",fontSize:13}},"phone".toUpperCase()),c.editProfile?o.a.createElement(B.a,{variant:"outlined",inputProps:{height:"1px",margin:0,padding:0},name:"phone",onChange:N,value:O.phone}):o.a.createElement(x.a,{style:{color:"#333333",fontFamily:"Gotham Rounded Medium"}},e.auth.sessionUser.usPhone))),o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",paddingTop:"10%"}},c.editProfile?o.a.createElement(H.a,{onClick:function(){return function(){var t=O.email,n=O.phone;fetch("https://monitoring.shinehub.com.au/handler/web/User/handleEditUserDetail.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{e:t,p:n}})})}).then(function(e){return e.json()}).then(function(t){e.getSessionUser().then(function(e){return e.json()}).then(function(e){console.log("session user post update",e),j(me({},O,{email:e.d.usEmail,phone:e.d.usPhone})),h(e.d),d(me({},c,{editProfile:!1})),de.dispatch({type:"SESSION_USER",payload:e.d})})})}()},variant:"contained",style:{color:"#fff",backgroundColor:"#25a8a8",textTransform:"none"}},"Save"):o.a.createElement(H.a,{onClick:function(){return d(me({},c,{editProfile:!0}))},variant:"contained",style:{color:"#fff",backgroundColor:"#25a8a8",textTransform:"none",fontFamily:"Gotham Rounded Medium"}},"Edit profile")),o.a.createElement("div",{style:{display:"flex",width:"100%",position:"absolute",bottom:"3%",justifyContent:"center",paddingTop:"10%"}},o.a.createElement(H.a,{onClick:function(){return t=e.history,void e.logout(t);var t},variant:"contained",style:{color:"#fff",backgroundColor:"#25a8a8",textTransform:"none",fontFamily:"Gotham Rounded Medium"}},"Logout")))):o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(x.a,{style:{fontSize:"200%",fontWeight:"bold"}},"Coming Soon!"))))),o.a.createElement("main",{className:Object(g.a)(Object(y.a)({},i.content,!c.navbarHidden))},c.navbarHidden?null:o.a.createElement("div",{className:i.toolbar}),e.children))}))),fe=n(44),ye=n(134),ge=n(232),ve=n(233),we=n(234),Ee=n(236),be=n(237),De=n(255),Se=n(57),Ce=n(24),xe=n(251),Re=n(10),Oe=n.n(Re),Pe=(n(171),n(130)),je=n.n(Pe),Ge=function(){return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("img",{src:je.a,style:{width:100}}))},Ie=n(235),Ae=(n(172),n(238));function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Te={control:function(e,t){return console.log("state",t),console.log("base",e),Fe({},e,{"&:hover":{borderColor:t.isFocused?"#00008b":e.borderColor}})}},Be=Object(ye.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#25A8A8"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:"#25A8A8"},daySelected:{backgroundColor:"#25A8A8"},dayDisabled:{color:"#25A8A8"},current:{color:"#25A8A8"}},MuiPickersModal:{dialogAction:{color:"#25A8A8"}},MuiOutlinedInput:{root:{position:"relative","& $notchedOutline":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:"#00008b","@media (hover: none)":{borderColor:"rgba(0, 0, 0, 0.23)"}},"&$focused $notchedOutline":{borderColor:"#4A90E2",borderWidth:2}}}}}),He=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={events:[],chartData:[],locations:[],loading:!0,openAddEvent:!1,location:null,date:null,from:null,to:null,status:null,power:45,windowHeight:window.innerHeight,windowWidth:window.innerWidth,validationText:""},n.onResizeWindow=function(){console.log("width",window.innerWidth),n.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight}),console.log("height",window.innerHeight)},n.onClickSave=function(){var e=n.props.auth,t=(e.isAuthenticated,e.user),a=n.state,o=a.power,i=a.location,r=a.date,l=a.from,s=a.to;return null===i?n.setState({validationText:"Please enter all details"}):null===r?n.setState({validationText:"Please enter all details"}):null===l?n.setState({validationText:"Please enter all details"}):null===s?n.setState({validationText:"Please enter all details"}):(console.log("typeof from",typeof parseInt(i.id)),console.log("typeof from",typeof parseInt(l)),console.log(" from",l),console.log("typeof to",typeof parseInt(s)),console.log("typeof date",typeof r),console.log("date",r),console.log("typeof date",typeof o),void fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleAddRelationDispatch.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:parseInt(i.id),st:Oe()(l,"HH:mm:ss").format("HH:mm"),et:Oe()(s,"HH:mm:ss").format("HH:mm"),d:Oe()(r).format("YYYY-MM-DD"),p:o,i:0}})})}).then(function(e){return e.text()}).then(function(e){if(console.log("save",e),console.log("res.r",typeof JSON.parse(e).r),2===JSON.parse(e).r)return de.dispatch({type:F,payload:{value:"Cannot add this event. Please check your details and try again!"}});Promise.all([fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupAllDischarge.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:t}})})}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupList.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:t}})})})]).then(function(e){return e.map(function(e){return e.json()})}).then(function(e){Promise.all([e[0],e[1]]).then(function(e){return console.log("reses",e),n.setState({loading:!1,openAddEvent:!1,showEvents:e[0].d,events:e[0].d,locations:e[1].d})})})}))},n.onChange=function(e,t,a){switch(console.log("e",e),t){case"date":var o=Oe()(e).format("YYYY-MM-DD");return n.setState(Object(y.a)({},t,o),function(){a&&n.onFilterEvents()});case"location":return n.setState({location:e,power:e.maxPower},function(){a&&(console.log("running callback"),n.onFilterEvents())});default:return n.setState(Object(y.a)({},t,e),function(){a&&n.onFilterEvents()})}},n.onChangeLocation=function(e,t){var a;n.setState((a={},Object(y.a)(a,t,e),Object(y.a)(a,"loading",!0),a),function(){console.log("e.id",e.id),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupUpComing.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e.id}})})}).then(function(e){return e.json()}).then(function(t){fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupPowerData.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e.id}})})}).then(function(e){return e.json()}).then(function(e){console.log("api 19 res",t),console.log("api 19 res",e),n.setState({events:t.d,chartData:e.d,loading:!1})})})})},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,n=t.isAuthenticated;t.user;console.log("isAuthenticated",n),console.log("this.props",this.props),window.addEventListener("resize",this.onResizeWindow),fetch("https://monitoring.shinehub.com.au/handler/web/General/handleQueryDataTotal.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:"admin"}})})}).then(function(e){return e.json()}).then(function(t){return console.log("isAuthenticated",n),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupList.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:"admin"}})})}).then(function(e){return e.json()}).then(function(n){fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryAllUpComing.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:"admin"}})})}).then(function(e){return e.json()}).then(function(a){if(console.log("events",a),console.log("locations",n),console.log("chartData",t),-2===a.r||-2===t.r)return e.props.history.push("/login");e.setState({loading:!1,locations:n.d,events:a.d?a.d:[],chartData:t.d?t.d:{}})})})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeWindow)}},{key:"componentDidUpdate",value:function(){console.log("isAuthenticated",this.props.auth.isAuthenticated)}},{key:"render",value:function(){var e,t,n,a=this,i=this.props.classes,r=this.props.auth,l=(r.isAuthenticated,r.user),s=r.error,c=this.state,d=c.events,u=c.chartData,m=c.locations,h=c.loading,p=c.location,f=c.date,y=c.to,g=c.from,v=c.power,w=c.openAddEvent,E=(c.windowHeight,c.windowWidth,c.validationText);if(Object.keys(u).length>0){var b=u.powerData,D=b.BatteryCap,S=b.BatteryCount,C=b.BatteryTotal;console.log("typeof BatteryCap",typeof D),console.log("typeof BatteryTotal",typeof C),console.log("typeof BatteryCount",typeof S),t=o.a.createElement("div",{style:{width:"41vw",height:"20vw",marginRight:"2vw"}},o.a.createElement(ge.a,{style:{borderRadius:8,height:"100%"}},o.a.createElement(ve.a,{style:{width:"100%",height:"100%"}},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"space-evenly",alignItems:"center"}},console.log("batteryCap",D),o.a.createElement("div",{style:{width:"16vw"}},o.a.createElement(M.a,{value:"number"!==typeof D||"number"!==typeof C?parseInt(D)/parseInt(C)*100:0,strokeWidth:15,circleRatio:.6,className:"CircularProgressbar",styles:Object(M.b)({rotation:.625,strokeLinecap:"butt",trailColor:"#D3E9EA",pathColor:"#25A8A8",alignSelf:"flex-end"})},o.a.createElement(W,{count:60,style:{borderBottomColor:"transparent",background:"#fff",width:".45vw",height:"2.4vw"}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:0,margin:0}},o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Medium",fontSize:"3.5vw",padding:0,margin:0}},Math.round(D/1e3)),o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Light",margin:"2vw 0 0 0",fontSize:"0.8vw",padding:0}},"kW")),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:0,margin:0}},o.a.createElement("div",{style:{color:"#83C4C4",fontSize:"1.1vw",fontFamily:"Gotham Rounded Light",padding:0,margin:0,textTransform:"uppercase"}},"Available"),o.a.createElement("div",{style:{color:"#83C4C4",fontFamily:"Gotham Rounded Light",padding:0,margin:0,fontSize:"1.1vw",textTransform:"uppercase"}},"Power"))))),o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Bold",paddingLeft:"8px",paddingBottom:"10%"}},o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Medium",fontSize:"2.2vw"}},"Your Virtual"),o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Medium",fontSize:"2.2vw"}},"Power Plant"),o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Light",color:"#828282",fontSize:"1vw",display:"inline-block",overflowWrap:"break-word"}},1==S?"There is currently ".concat(S):"There are currently ".concat(S),o.a.createElement(x.a,{style:{display:"table",fontFamily:"Gotham Rounded Light",color:"#828282",fontSize:"1vw"}},1==S?"home in your fleet":"homes in your fleet"))))))),e=o.a.createElement("div",{style:{padding:"3% 0",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(ge.a,{style:{borderRadius:8,width:"84vw"}},o.a.createElement(ve.a,{style:{width:"100%"}},o.a.createElement("div",{style:{display:"flex",marginBottom:"6px",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{padding:"0 0 3% 8%",color:"#83C4C4",fontSize:"1.3vw",fontFamily:"Gotham Rounded Light"}},"Power".toUpperCase()),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",alignSelf:"flex-end"}},o.a.createElement("div",{style:{display:"flex",paddingRight:"2vw",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#25A8A8",width:"1vw",height:"1vw",borderRadius:50}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282"}},"Available Power")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#B5D145",width:"1vw",height:"1vw",borderRadius:40}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282",paddingRight:"28px"}},"Net Grid Power")))),o.a.createElement(Y,{charge:u.powerData.GridCharge,time:u.powerData.Time,availablePower:u.powerData.AvailablePower,netInGrid:u.powerData.NetToGrid}))))}return d.length>0&&(n=d.length>0?d.map(function(e){return console.log("filter api what",new Date(e.sysReDDate)),o.a.createElement("div",{style:{}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Medium",fontSize:"1.3vw"}},e.GroupName),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(x.a,{style:{paddingRight:"1px",fontFamily:"Gotham Rounded Medium",fontSize:"1.3vw"}},"".concat(parseInt(e.sysReDPower)/1e3," kW")))),o.a.createElement("div",{style:{display:"flex",padding:"1% 0",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Medium",color:"#828282",fontSize:"1vw"}},Oe()(e.sysReDDate).format("DD/MM/YYYY")),o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Medium",color:"#828282",fontSize:"1vw"}},"".concat(Oe()(e.sysReDStartTime,"HH:mm:ss").format("HH:mm"),"-").concat(Oe()(e.sysReDEndTime,"HH:mm:ss").format("HH:mm")))))}):o.a.createElement(x.a,null,"No Upcoming Events!")),o.a.createElement("div",{style:{paddingLeft:"4vw"}},h?o.a.createElement(Ge,null):o.a.createElement("div",{style:{}},l.includes("admin")?o.a.createElement("div",{style:{display:"flex",padding:"1% 0 1% 5%",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement("div",{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement("div",{style:{fontSize:"1vw"}},"Location".toUpperCase()),o.a.createElement(fe.a,{onChange:function(e){return a.onChangeLocation(e,"location")},value:p,styles:Te,placeholder:"All States",options:m?m.map(function(e){return{value:e.DisGroupName,label:e.DisGroupName,id:e.DisGroupID}}):[]}))):"",o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},t,o.a.createElement("div",{style:{width:"41vw",height:"20vw",position:"relative"}},d.length>=0?o.a.createElement(ge.a,{style:{overflow:"auto",height:"100%",borderRadius:8}},o.a.createElement(ve.a,{style:{width:"100%",height:"100%",padding:"2vw"}},o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Light",color:"#83C4C4",fontSize:"1.3vw",textTransform:"uppercase"}},"Upcoming Events"),o.a.createElement("div",{style:{padding:"2vw 0"}},n))):o.a.createElement(x.a,{style:{fontSize:"3vw",fontFamily:"Gotham Rounded Bold",textAlign:"center"}},"Nothing to show!"),l.includes("admin")?o.a.createElement("div",{style:{position:d.length>0?"absolute":"fixed",right:d.length>0?"-3%":"4%",width:"4vw",height:"4vw",top:d.length>0?"-7%":"90%"}},o.a.createElement(we.a,{style:{width:"100%",height:"100%",alignSelf:"flex-end",backgroundColor:"#25A8A8"},onClick:function(){return a.setState({openAddEvent:!0})}},o.a.createElement(Ie.a,{style:{color:"#fff",fontSize:"2vw"}}))):"")),e),o.a.createElement(Ee.a,{fullWidth:!0,style:{zIndex:0},open:w,onClose:function(){return a.setState({openAddEvent:!1})}},o.a.createElement(be.a,{style:{height:"28vw"}},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",height:"100%"}},o.a.createElement(x.a,{style:{color:"#25A8A8",fontFamily:"Gotham Rounded Light"}},"Add event".toUpperCase()),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Location"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(fe.a,{menuPortalTarget:document.body,styles:Te,onChange:function(e){return a.onChange(e,"location",!1)},options:m?m.map(function(e){return{value:e.DisGroupName,label:e.DisGroupName,id:e.DisGroupID,maxPower:e.MaxPower}}):[],value:p}))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Date"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(Ae.a,{theme:Be},o.a.createElement(Ce.a,{className:"MuiOutlinedInput-input",utils:Se.a},o.a.createElement(xe.a,{disableToolbar:!0,inputVariant:"outlined",style:{fontFamily:"Gotham Rounded Light"},placeholder:"Date",format:"DD/MM/YY",onChange:function(e){return a.onChange(e,"date",!1)},value:f}))))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Time"),o.a.createElement("div",{style:{display:"flex",width:"70%",alignItems:"center"}},o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(B.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===g?"02:00":g,style:{fontFamily:"Gotham Rounded Medium"},placeholder:"Enter as 22:15",onChange:function(e){return a.setState({from:e.target.value})}})),o.a.createElement(x.a,{style:{color:"#333",width:"20%",textAlign:"center",fontFamily:"Gotham Rounded Light"}},"to"),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(B.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===y?"04:00":y,style:{fontFamily:"Gotham Rounded Light"},placeholder:"04:00",onChange:function(e){return a.setState({to:e.target.value})}})))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Power"),o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"".concat(v," kW"))),o.a.createElement(De.a,{value:v,max:p?p.maxPower:100,"aria-label":"custom thumb label",onChange:function(e,t){return a.setState({power:t})},classes:{thumb:i.thumb,track:i.track}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},E?o.a.createElement(x.a,{style:{color:"red"}},E):null,s?o.a.createElement(x.a,{style:{color:"red"}},s.value):null),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},o.a.createElement(H.a,{onClick:this.onClickSave,variant:"contained",style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"}},"Save")))))))}}]),t}(a.Component),Ne=Object(N.a)({firstBarColor:{backgroundColor:"#E84A50"},secondBarColor:{backgroundColor:"#B5D145"},dateInput:{padding:"1%"}})(Object(p.b)(function(e){return{auth:e.auth}},{})(He)),Me=n(133),Le=n.n(Me),ze=(n(173),n(121)),Je=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},n.onChange=function(e){n.setState(Object(y.a)({},e.target.name,e.target.value))},n.onSignIn=function(e){e.preventDefault();var t=n.state,a=t.email,o=t.password;n.props.login(a,o,n.props.history,ze)},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.auth.error&&console.log("nextProps.auth.error",e.auth.error)}},{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.error,n=this.state,a=n.email,i=n.password;return o.a.createElement("div",{style:{backgroundColor:"#E5E5E5",display:"flex",height:"100vh",width:"100vw",justifyContent:"center",alignItems:"center"}},o.a.createElement(ge.a,{style:{height:"100%",width:"100%"}},o.a.createElement(ve.a,{style:{display:"flex",height:"100%",padding:0}},o.a.createElement("div",{style:{padding:"5%",height:"100%",width:"50%",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"60%"}},o.a.createElement("div",null,o.a.createElement("img",{src:$.a})),o.a.createElement("div",{style:{paddingTop:"15%",display:"flex",flexDirection:"column",justifyContent:"space-around"}},o.a.createElement(x.a,{variant:"h5",style:{fontFamily:"Gotham Rounded Bold",fontWeight:"bolder",color:"#2E384D"}},"ShineHub Virtual"),o.a.createElement(x.a,{variant:"h5",style:{fontFamily:"Gotham Rounded Bold",fontWeight:"bolder",color:"#2E384D"}},"Power Plant"),o.a.createElement(x.a,{style:{color:"#8798AD",fontSize:"87%",paddingBottom:"7%",fontFamily:"Gotham Rounded Medium"}},"Login below to proceed"),Object.keys(t).length>0?o.a.createElement(x.a,{style:{color:"red",fontSize:"87%",paddingBottom:"7%"}},t.value):"",o.a.createElement(x.a,{style:{fontSize:"70%",color:"#BDBDBD",letterSpacing:"1.12px",fontWeight:"600",fontFamily:"Gotham Rounded Bold"}},"Email Address".toUpperCase()),o.a.createElement("form",{style:{width:"100%"},noValidate:!0,onSubmit:this.onSignIn},o.a.createElement(B.a,{name:"email",style:{width:"100%",paddingTop:"2%",fontFamily:"Gotham Rounded Bold"},value:a,onChange:this.onChange,variant:"outlined",inputProps:{style:{height:"1px",margin:0,backgroundColor:"rgba(224,231,255,0.2)",fontFamily:"Gotham Rounded Bold"}}})),o.a.createElement("div",{style:{paddingTop:"6%",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{fontSize:"70%",color:"#BDBDBD",letterSpacing:"1.12px",fontWeight:"600",fontFamily:"Gotham Rounded Bold"}},"Password".toUpperCase()),o.a.createElement(x.a,{style:{fontSize:"70%",color:"#BDBDBD",letterSpacing:"1.12px",fontWeight:"600",fontFamily:"Gotham Rounded Bold"}},"Forgot Password?")),o.a.createElement("form",{style:{width:"100%"},onSubmit:this.onSignIn,noValidate:!0},o.a.createElement(B.a,{name:"password",type:"password",style:{width:"100%",paddingTop:"2%",fontFamily:"Gotham Rounded Bold"},value:i,onChange:this.onChange,variant:"outlined",inputProps:{style:{height:"1px",margin:0,backgroundColor:"rgba(224,231,255,0.2)"}}}),o.a.createElement("div",{style:{width:"100%",paddingTop:"7%"}},o.a.createElement(H.a,{onClick:this.onSignIn,style:{backgroundColor:"#25A8A8",width:"100%",color:"#fff",padding:"4% 0",fontFamily:"Gotham Rounded Bold"},variant:"contained",classes:{label:e.label}},"Sign in")))))),o.a.createElement("div",{style:{backgroundImage:"url(".concat(Le.a,")"),width:"50%",position:"relative"}},o.a.createElement("div",null)))))}}]),t}(a.Component),We=Object(N.a)({label:{textTransform:"none"},textField:{height:"22px",padding:0,margin:0}})(Object(p.b)(function(e){return{auth:e.auth}},{login:function(e,t,n,a){return function(o){fetch("https://monitoring.shinehub.com.au/handler/login/handleLogin.php",{method:"POST",mode:"cors",body:JSON.stringify({d:JSON.stringify({cvs:{a:e,p:a("".concat(e).concat(a(t),"f4225962934c5452hun3o"))}})})}).then(function(e){return e.json()}).then(function(e){if(console.log("res",e.r),console.log("typeof res",typeof e.r),"number"===typeof e.r)throw e;fetch("https://monitoring.shinehub.com.au/handler/web/User/handleQueryUserDetail.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{}})})}).then(function(e){return e.json()}).then(function(t){console.log("userDetails",t),localStorage.setItem("user",e.r),localStorage.setItem("exp",t.d.expiretime),o({type:"LOGIN",payload:{isAuthenticated:"string"===typeof e.r,user:"string"===typeof e.r?e.r:""}}),n.push("/")})}).catch(function(e){return o({type:F,payload:{value:"Incorrect credentials"}})})}}})(Je)),Ue=n(241),Ye=n(242),Qe=n(243),$e=n(244),_e=n(245),Ve=n(248),Xe=n(239),Ze=n(246),qe=n(247),Ke=(n(193),n(240));function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(121);var nt={control:function(e,t){return console.log("state",t),console.log("base",e),tt({},e,{"&:hover":{borderColor:t.isFocused?"#00008b":e.borderColor}})},input:function(e,t){return console.log("dropdownIndicator base",e),console.log("dropdownIndicator state",t),tt({},e)}},at=Object(ye.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#25A8A8"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:"#25A8A8"},daySelected:{backgroundColor:"#25A8A8"},dayDisabled:{color:"#25A8A8"},current:{color:"#25A8A8"}},MuiOutlinedInput:{root:{position:"relative","& $notchedOutline":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:"#00008b","@media (hover: none)":{borderColor:"rgba(0, 0, 0, 0.23)"}},"&$focused $notchedOutline":{borderColor:"#4A90E2",borderWidth:2}}},MuiInputBase:function(e){return console.log("focus",e),{formControl:{},focused:{}}},datePicker:{selectColor:"red",borderColor:"red",backgroundColor:"red"},palette:{backgroundColor:"red"},MuiPickersModal:{dialogAction:{color:"red",selectColor:"red",backgroundColor:"red"}}}}),ot=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={openAddEvent:!1,filterLocation:null,filterDate:null,filterStartPower:15,filterEndPower:30,filterStatus:"",events:[],showEvents:[],power:45,locations:[],location:null,date:null,from:null,to:null,status:null,loading:!0,openPriceDialog:!1,price:"",touchedPower:!1,idPrice:"",namePrice:"",datePrice:"",startTimePrice:"",endTimePrice:"",hasCompletedPrice:"",isEmail:"",validationText:""},n.onChange=function(e,t,a){switch(console.log("e",e),t){case"location":return n.setState({location:e,power:e.maxPower},function(){a&&(console.log("running callback"),n.onFilterEvents())});case"price":return n.setState({price:e.target.value},function(){a&&(console.log("running callback"),n.onFilterEvents())});default:return n.setState(Object(y.a)({},t,e),function(){a&&(console.log("running callback"),n.onFilterEvents())})}},n.onClickSave=function(){var e=n.props.auth,t=(e.isAuthenticated,e.user),a=n.state,o=a.power,i=a.location,r=a.date,l=a.from,s=a.to;return null===i?n.setState({validationText:"Please enter all details"}):null===r?n.setState({validationText:"Please enter all details"}):null===l?n.setState({validationText:"Please enter all details"}):null===s?n.setState({validationText:"Please enter all details"}):(console.log("typeof from",typeof parseInt(i.id)),console.log("typeof from",typeof parseInt(l)),console.log(" from",l),console.log("typeof to",typeof parseInt(s)),console.log("typeof date",typeof r),console.log("date",r),console.log("typeof date",typeof o),void fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleAddRelationDispatch.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:parseInt(i.id),st:Oe()(l,"HH:mm:ss").format("HH:mm"),et:Oe()(s,"HH:mm:ss").format("HH:mm"),d:Oe()(r._d).format("YYYY-MM-DD"),p:o,i:0}})})}).then(function(e){return e.text()}).then(function(e){if(console.log("save",e),2===JSON.parse(e).r)return de.dispatch({type:F,payload:{value:"Cannot add this event. Please correct your details and try again!"}});Promise.all([fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupAllDischarge.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:t}})})}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupList.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:t}})})})]).then(function(e){return e.map(function(e){return e.json()})}).then(function(e){Promise.all([e[0],e[1]]).then(function(e){return console.log("reses",e),n.setState({loading:!1,openAddEvent:!1,showEvents:e[0].d,events:e[0].d,locations:e[1].d})})})}))},n.onClickSavePrice=function(e,t){var a=n.props.auth,o=(a.isAuthenticated,a.user),i=n.state;i.power,i.location,i.date,i.from,i.to;fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleEditGroupDischargePrice.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e,p:t}})})}).then(function(e){return e.text()}).then(function(e){console.log("save",e),Promise.all([fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupAllDischarge.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:o}})})}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupList.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:o}})})})]).then(function(e){return e.map(function(e){return e.json()})}).then(function(e){Promise.all([e[0],e[1]]).then(function(e){return console.log("reses",e),n.setState({loading:!1,openPriceDialog:!1,showEvents:e[0].d,events:e[0].d,locations:e[1].d})})})})},n.onClickSaveAndSendPrice=function(e,t){var a=n.props.auth,o=(a.isAuthenticated,a.user),i=n.state;i.power,i.location,i.date,i.from,i.to;window.confirm("Are you sure? This cannot be undone!")&&fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleEditPriceSendEmail.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e,p:t}})})}).then(function(e){return e.text()}).then(function(e){console.log("save",e),Promise.all([fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupAllDischarge.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:o}})})}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupList.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:o}})})})]).then(function(e){return e.map(function(e){return e.json()})}).then(function(e){Promise.all([e[0],e[1]]).then(function(e){return console.log("reses",e),n.setState({loading:!1,openPriceDialog:!1,showEvents:e[0].d,events:e[0].d,locations:e[1].d})})})})},n.onClickEvent=function(e){n.props.history.push({pathname:"/edit-event",state:{event:e}})},n.onFilterEvents=function(){var e=n.state,t=e.filterLocation,a=e.filterDate,o=e.filterStartPower,i=e.filterEndPower,r=e.filterStatus,l=e.events,s=e.touchedPower,c=l.filter(function(e){return console.log("filterDate",new Date(e.sysReDDate).getDate()),t?a?s?r?t.value===e.groupname&&new Date(a._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:t.value===e.groupname&&new Date(a._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?t.value===e.groupname&&new Date(a._d).getDate()===new Date(e.sysReDDate).getDate()&&r.value===e.sysReDIsComplete:t.value===e.groupname&&new Date(a._d).getDate()===new Date(e.sysReDDate).getDate():s?r?t.value===e.groupname&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:t.value===e.groupname&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?t.value===e.groupname&&r.value===e.sysReDIsComplete:t.value===e.groupname:a?s?r?new Date(a._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:new Date(a._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?new Date(a._d).getDate()===new Date(e.sysReDDate).getDate()&&r.value===e.sysReDIsComplete:new Date(a._d).getDate()===new Date(e.sysReDDate).getDate():s?r?o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?r.value===e.sysReDIsComplete:(console.log("no"),null)});console.log("newEvents",c),n.setState({showEvents:c})},n.onClickPriceDialog=function(e,t,a,o,i,r){var l=n.state;l.price,l.openPriceDialog},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,n=(t.isAuthenticated,t.user);Promise.all([fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupAllDischarge.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:n}})})}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupList.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:n}})})})]).then(function(e){return e.map(function(e){return e.json()})}).then(function(t){Promise.all([t[0],t[1]]).then(function(t){return e.setState({loading:!1,showEvents:t[0].d,events:t[0].d,locations:t[1].d})})})}},{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e)}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=(n.status,n.validationText),i=n.filterLocation,r=n.filterDate,l=n.filterStatus,s=n.openAddEvent,c=(n.events,n.power),d=n.location,u=n.loading,m=n.date,h=(n.editClicked,n.from),p=n.to,f=n.filterStartPower,y=n.filterEndPower,g=n.locations,v=n.showEvents,w=n.namePrice,E=n.datePrice,b=n.startTimePrice,D=n.endTimePrice,S=n.hasCompletedPrice,C=n.openPriceDialog,R=n.price,O=n.isEmail,P=n.idPrice,j=this.props.auth,G=(j.isAuthenticated,j.user),I=j.error;return o.a.createElement("div",{style:{position:"relative",backgroundColor:"#FBFBFB",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:u?"center":"flex-start",padding:"5vw 0 0 5vw"}},u?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(Ge,null)):o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%"}},o.a.createElement("div",{style:{display:"flex",width:"65vw",flexDirection:"column",alignItems:"flex-start"}},o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{fontSize:"2.2vw",paddingRight:"20px",fontWeight:"bolder",fontFamily:"Gotham Rounded Bold"}},"Events"),o.a.createElement(x.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",paddingTop:"1%",fontSize:"1.3vw"}},"".concat(Array.isArray(v)?v.length:""," ").concat(Array.isArray(v)?1===v.length?"result":"results":""))),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Ue.a,null,o.a.createElement(Ye.a,{style:{backgroundColor:"#FBFBFB"}},o.a.createElement(Qe.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Location"),o.a.createElement(Qe.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Date"),o.a.createElement(Qe.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Time"),o.a.createElement(Qe.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Power"),o.a.createElement(Qe.a,null),o.a.createElement(Qe.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Status"),o.a.createElement(Qe.a,null),o.a.createElement(Qe.a,null)),o.a.createElement($e.a,null,Array.isArray(v)?v.map(function(t){return o.a.createElement(_e.a,{style:{backgroundColor:"#fff",border:"15px solid #FBFBFB"}},o.a.createElement(Qe.a,{style:{whiteSpace:"nowrap"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end"}},o.a.createElement(x.a,{style:{padding:0,margin:0,fontFamily:"Gotham Rounded Medium",color:"#2E384D",fontSize:"1.2vw"}},t.groupname),o.a.createElement(x.a,{style:{padding:0,margin:0,color:"#BDBDBD",fontFamily:"Gotham Rounded Light",fontSize:"1.2vw"}},"#".concat(t.sysReDId)))),o.a.createElement(Qe.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},Oe()(t.sysReDDate).format("DD / MM / YY")),o.a.createElement(Qe.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},"".concat(Oe()(t.sysReDStartTime,"HH:mm").format("HH:mm")," - ").concat(Oe()(t.sysReDEndTime,"HH:mm").format("HH:mm"))),o.a.createElement(Qe.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},"".concat(t.sysReDPower/1e3,"kW")),o.a.createElement(Qe.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},o.a.createElement("div",{style:"0"===t.sysReDEventStatus||"1"===t.sysReDEventStatus||"4"===t.sysReDEventStatus?{backgroundColor:"#fff",border:"solid",borderColor:"rgb(124, 124, 124)",borderWidth:4,borderRadius:40,width:"1vw",height:"1vw"}:{backgroundColor:"green",borderRadius:40,width:"1vw",height:"1vw"}},"\xa0")),o.a.createElement(Qe.a,{style:{fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},"0"===t.sysReDEventStatus||"1"===t.sysReDEventStatus?"Scheduled":"2"===t.sysReDEventStatus?"Completed":"4"===t.sysReDEventStatus?"No Available Power\n to discharge":"Completed and\n Sent Email to Customer"),o.a.createElement(Qe.a,{style:{whiteSpace:"nowrap",color:"#25A8A8",cursor:"pointer",fontSize:"1.2vw",fontFamily:"Gotham Rounded Medium"}},"0"===t.sysReDEventStatus||"1"===t.sysReDEventStatus||"4"===t.sysReDEventStatus?o.a.createElement(Ze.a,null):o.a.createElement(qe.a,{onClick:function(n){return e.setState({idPrice:t.sysReDId,price:null===t.sysReDPrice?"":t.sysReDPrice,isEmail:t.sysReDIsEmail,openPriceDialog:!0,namePrice:t.groupname,datePrice:t.sysReDDate,startTimePrice:t.sysReDStartTime,endTimePrice:t.sysReDEndTime,hasCompletedPrice:t.sysReDEventStatus})}})),o.a.createElement(Qe.a,{onClick:function(){return e.onClickEvent(t)},style:{whiteSpace:"nowrap",color:"#25A8A8",cursor:"pointer",fontSize:"1.2vw",fontFamily:"Gotham Rounded Medium"}},"0"===t.sysReDEventStatus?"Edit":"View"))}):""))),o.a.createElement(Ee.a,{fullWidth:!0,open:C,onClose:function(){return e.setState({openPriceDialog:!1})}},o.a.createElement(Ve.a,{style:{whiteSpace:"nowrap",color:"#25A8A8",cursor:"pointer",fontSize:"1.2vw",fontFamily:"Gotham Rounded Medium"}},"AEMO spot price"),o.a.createElement(be.a,null,o.a.createElement("div",{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Medium",padding:0,margin:0,fontSize:"1vw"}},"Please enter the AEMO spot price for the completed event on ".concat(Oe()(E).format("DD/MM/YYYY")," from ").concat(Oe()(b,"HH:mm").format("HH:mm")," to ").concat(Oe()(D,"HH:mm").format("HH:mm")," in ").concat(w)),o.a.createElement("div",{style:{width:"15vw",height:"1vw"}}),o.a.createElement(B.a,{InputProps:{startAdornment:o.a.createElement(Ke.a,{position:"start"},"$"),endAdornment:o.a.createElement(Ke.a,{position:"end"},"/MWh")},inputProps:{style:{textAlign:"right"}},disabled:"0"!==O,placeholder:"Enter your price",value:R,name:"price",onChange:function(t){return e.onChange(t,"price",!1)}}),"3"!==S?o.a.createElement(Xe.a,null,o.a.createElement("div",{style:{width:"15vw",height:"5vw"}}),o.a.createElement(H.a,{style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"},disabled:"0"!==O,onClick:function(){return e.onClickSavePrice(P,R)}},"Save"),o.a.createElement(H.a,{onClick:function(){return e.onClickSaveAndSendPrice(P,R)},style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"},disabled:"0"!==O},"Save & Email")):o.a.createElement("div",{style:{width:"15vw",height:"2vw"}})))),o.a.createElement("div",{style:{width:"15vw",height:"27vw"}},o.a.createElement(ge.a,{style:{width:"100%",height:"100%"}},o.a.createElement(ve.a,{style:{display:"flex",height:"100%",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"88%",height:"100%"}},o.a.createElement("div",{style:{display:"flex",height:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-start"}},o.a.createElement(x.a,{style:{color:"#25A8A8",fontFamily:"Gotham Rounded Light",letterSpacing:"1.2133px",paddingBottom:"3%",fontSize:"1vw",textTransform:"uppercase"}},"Filter"),o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Location"),o.a.createElement("div",{style:{width:"100%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement(fe.a,{value:i,styles:nt,onChange:function(t){e.onChange(t,"filterLocation",!0)},options:g?g.map(function(e){return{value:e.DisGroupName,label:e.DisGroupName,id:e.DisGroupID}}):[]})),o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Date"),o.a.createElement("div",{style:{width:"100%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement(Ae.a,{theme:at},o.a.createElement(Ce.a,{utils:Se.a},o.a.createElement(xe.a,{InputProps:{classes:{}},disableToolbar:!0,style:{padding:0,fontFamily:"Gotham Rounded Medium"},inputVariant:"outlined",format:"DD/MM/YY",placeholder:"Date",onChange:function(t){return e.onChange(t,"filterDate",!0)},value:r})))),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"4%"}},o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Power"),o.a.createElement(x.a,{style:{whiteSpace:"nowrap",color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"".concat(f,"-").concat(y," kWh"))),o.a.createElement(De.a,{classes:{thumb:t.thumb,track:t.track},value:[f,y],onChange:function(t,n){e.setState({touchedPower:!0,filterStartPower:n[0],filterEndPower:n[1]},function(){return e.onFilterEvents()})},valueLabelDisplay:"auto","aria-labelledby":"range-slider"}),o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Status"),o.a.createElement("div",{style:{width:"100%",padding:"3% 0 8% 0",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement(fe.a,{menuPortalTarget:document.body,styles:nt,options:[{value:"0",label:"Scheduled"},{value:"1",label:"Completed"}],value:l,onChange:function(t){e.setState({filterStatus:t},function(){return e.onFilterEvents()})}})))))))),G.includes("admin")?o.a.createElement("div",{style:{position:"fixed",display:"flex",alignSelf:"flex-end",padding:"0 2vw",bottom:"3%",right:"3%"}},o.a.createElement(we.a,{style:{backgroundColor:"#25A8A8"},onClick:function(){return e.setState({openAddEvent:!0})}},o.a.createElement(Ie.a,{style:{color:"#fff"}}))):""),o.a.createElement(Ee.a,{fullWidth:!0,style:{zIndex:0},open:s,onClose:function(){return e.setState({openAddEvent:!1})}},o.a.createElement(be.a,{style:{height:"28vw"}},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",height:"100%"}},o.a.createElement(x.a,{style:{color:"#25A8A8",fontFamily:"Gotham Rounded Light"}},"Add event".toUpperCase()),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Location"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(fe.a,{menuPortalTarget:document.body,styles:nt,onChange:function(t){return e.onChange(t,"location",!1)},options:g?g.map(function(e){return{value:e.DisGroupName,label:e.DisGroupName,id:e.DisGroupID,maxPower:e.MaxPower}}):[],value:d}))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Date"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(Ae.a,{theme:at},o.a.createElement(Ce.a,{utils:Se.a},o.a.createElement(xe.a,{disableToolbar:!0,style:{padding:0,color:"#000",fontFamily:"Gotham Rounded Light"},placeholder:"Date",inputVariant:"outlined",format:"DD/MM/YY",onChange:function(t){return e.onChange(t,"date",!1)},value:m}))))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Time"),o.a.createElement("div",{style:{display:"flex",width:"70%",alignItems:"center"}},o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(B.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===h?"02:00":h,style:{fontFamily:"Gotham Rounded Light"},placeholder:"02:00",onChange:function(t){return e.setState({from:t.target.value})}})),o.a.createElement(x.a,{style:{width:"20%",textAlign:"center",color:"#333",fontFamily:"Gotham Rounded Light"}},"to"),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(B.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===p?"04:00":p,style:{fontFamily:"Gotham Rounded Light"},placeholder:"04:00",onChange:function(t){return e.setState({to:t.target.value})}})))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Power"),o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"".concat(c," kW"))),o.a.createElement(De.a,{value:c,"aria-label":"custom thumb label",max:d?d.maxPower:100,onChange:function(t,n){return e.setState({power:n})},classes:{thumb:t.thumb,track:t.track}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},a?o.a.createElement(x.a,{style:{color:"red"}},a):null,I?o.a.createElement(x.a,{style:{color:"red"}},I.value):null),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},o.a.createElement(H.a,{onClick:this.onClickSave,variant:"contained",style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"}},"Save")))))))}}]),t}(a.Component),it=Object(N.a)({datePickerInput:{},root:{borderRadius:20,marginBottom:"30px",display:"inline-block",backgroundColor:"orange"},thumb:{backgroundColor:"white",borderStyle:"solid",borderColor:"#25A8A8",borderWidth:"3px"},track:{height:"3px",backgroundColor:"#25A8A8"},dialogContainer:{width:"55vw"}})(Object(p.b)(function(e){return{auth:e.auth}})(ot)),rt=n(249),lt=n(250),st=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={completed:!1,event:{},chartData:[],loading:!0,editClicked:!1,date:"",startTime:"",endTime:"",power:""},n.onChange=function(e,t){switch(console.log("name",t),console.log("e",e),t){case"startTime":return n.setState({startTime:e});case"endTime":return n.setState({endTime:e});default:return n.setState(Object(y.a)({},e.target.name,e.target.value))}},n.onExportEvent=function(){var e="?d="+encodeURIComponent(JSON.stringify({cvs:{a:1,u:"admin",d:"2019-09-18"}}));window.open("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryExportGroupDispatch.php"+e)},n.onEditEvent=function(e){console.log("edit event");var t=n.props.location.state,a=n.props.auth,o=(a.isAuthenticated,a.user),i=n.state,r=i.date,l=i.startTime,s=i.endTime,c=i.power;n.setState({loading:!0}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleEditRelationDispatch.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e.sysReDId,st:Oe()(l,"HH:mm").format("HH:mm"),et:Oe()(s,"HH:mm").format("HH:mm"),d:r,p:c,i:0}})})}).then(function(e){return e.json()}).then(function(e){console.log("handleEditRelationDispatch res",e),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupAllDischarge.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:o}})})}).then(function(e){return e.json()}).then(function(e){var a=e.d.filter(function(e){return e.sysReDId===t.event.sysReDId});return console.log("updatedEvent",a),console.log("power",typeof a.sysReDPower),console.log("power",typeof parseInt(a.sysReDPower)),n.setState({loading:!1,editClicked:!1,event:a[0],date:a[0].sysReDDate,startTime:Oe()(a[0].sysReDStartTime,"HH:mm").format("HH:mm"),endTime:Oe()(a[0].sysReDEndTime,"HH:mm").format("HH:mm"),power:parseInt(a[0].sysReDEstGen),completed:"0"!==a[0].sysReDIsComplete})})})},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("this.props",this.props);var t=this.props.location.state,n=this.props.auth,a=(n.isAuthenticated,n.user);console.log("user",a),void 0!==t&&fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleQueryGroupPowerline.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{u:a,a:a.includes("admin")?t.event.sysReDGroupID:0,d:t.event.sysReDDate}})})}).then(function(e){return e.json()}).then(function(n){return console.log("chart res",n),console.log("event",t.event),e.setState({loading:!1,event:t.event,date:t.event.sysReDDate,startTime:Oe()(t.event.sysReDStartTime,"HH:mm"),endTime:Oe()(t.event.sysReDEndTime,"HH:mm"),power:parseInt(t.event.sysReDEstGen),chartData:n.d.powerData,completed:"0"!==t.event.sysReDIsComplete})})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.completed,i=n.event,r=n.editClicked,l=n.chartData,s=n.loading,c=n.power,d=n.date,u=n.startTime,m=n.endTime,h=this.props.auth,p=(h.isAuthenticated,h.user);return Object.keys(l).length>0&&(e=o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},o.a.createElement(ge.a,{style:{borderRadius:8,width:"100%"}},o.a.createElement(ve.a,{style:{width:"100%"}},o.a.createElement("div",{style:{display:"flex",marginBottom:"6px",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{padding:"0 0 3% 8%",color:"#83C4C4",fontSize:"1.3vw",fontFamily:"Gotham Rounded Light"}},"Power".toUpperCase()),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",alignSelf:"flex-end"}},o.a.createElement("div",{style:{display:"flex",paddingRight:"2vw",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#25A8A8",width:"1vw",height:"1vw",borderRadius:50}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282"}},"Available Power")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#B5D145",width:"1vw",height:"1vw",borderRadius:40}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282",paddingRight:"28px"}},"Net Grid Power")))),o.a.createElement(Y,{time:l.Time,charge:l.GridCharge,availablePower:l.AvailablePower,netInGrid:l.NetToGrid}))))),o.a.createElement("div",{style:{paddingLeft:"8vw",display:"flex",backgroundColor:"#FBFBFB",width:"90vw",flexDirection:"column",alignItems:"center"}},s?o.a.createElement(Ge,null):o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:{width:"100%",padding:"3% 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{variant:"h5",style:{whiteSpace:"nowrap",color:"#2E384D",fontSize:"2.3vw",paddingRight:"1.3vw",fontFamily:"Gotham Rounded Medium"}},i.groupname),o.a.createElement(x.a,{variant:"body2",style:{whiteSpace:"nowrap",color:"#828282",paddingTop:"0.9vw",fontSize:"1.2vw",fontFamily:"Gotham Rounded Light"}},"#".concat(i.sysReDId))),p.includes("admin")?a?o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"20%"}},o.a.createElement(H.a,{onClick:this.onExportEvent,variant:"contained",style:{color:"#fff",backgroundColor:"#25A8A8",width:"7vw",height:"2.3vw",fontSize:"0.7vw",textTransform:"none",fontFamily:"Gotham Rounded Light"}},"Export")):o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"20%"}},o.a.createElement(H.a,{onClick:function(){r?t.onEditEvent(i):t.setState({editClicked:!0})},variant:"contained",style:{color:"#fff",backgroundColor:"#25A8A8",width:"7vw",height:"2.3vw",fontSize:"0.7vw",textTransform:"none",fontFamily:"Gotham Rounded Light"}},"Edit"),o.a.createElement(H.a,{onClick:function(){t.setState({editClicked:!1})},variant:"outlined",style:{color:"#25A8A8",width:"7vw",height:"2.3vw",fontSize:"0.7vw",textTransform:"none",fontFamily:"Gotham Rounded Light"}},"Cancel")):""),o.a.createElement("div",{style:{paddingBottom:"3%",width:"100%",height:"12vw",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(ge.a,{style:{width:"70%",height:"100%",padding:"1% 0"}},o.a.createElement(ve.a,{style:{height:"100%"}},o.a.createElement("div",{style:{display:"flex",height:"100%"}},o.a.createElement("div",{style:{paddingRight:"5%",width:"50%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{paddingBottom:"6%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Date"),r?o.a.createElement(B.a,{name:"date",onChange:this.onChange,value:d}):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},Oe()(i.sysReDDate).format("DD/MM/YYYY"))),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Time"),r?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(B.a,{name:"startTime",type:"time",inputProps:{step:"1800"},onChange:this.onChange,value:Oe()(u,"HH:mm").format("HH:mm")}),"-",o.a.createElement(B.a,{name:"endTime",type:"time",inputProps:{step:"1800"},onChange:this.onChange,value:Oe()(m,"HH:mm").format("HH:mm")})):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"".concat(Oe()(i.sysReDStartTime,"HH:mm").format("HH:mm"),"-").concat(Oe()(i.sysReDEndTime,"HH:mm").format("HH:mm"))))),o.a.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{paddingBottom:"6%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Power"),r?o.a.createElement(B.a,{name:"power",InputProps:{endAdornment:o.a.createElement(Ke.a,{position:"end"},"kWh")},inputProps:{style:{textAlign:"right"}},value:c,onChange:this.onChange}):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"".concat(i.sysReDTargetCap/1e3," kWh out of ").concat(i.sysReDEstGen," kWh"))),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Status"),r?o.a.createElement(x.a,{style:{fontSize:"1vw",color:"#828282",fontFamily:"Gotham Rounded Medium"}},"0"===i.sysReDEventStatus||"1"===i.sysReDEventStatus?"Scheduled":"2"===i.sysReDEventStatus?"Completed":"4"===i.sysReDEventStatus?"No Available Power\n to discharge":"Completed and\n Sent Email to Customer"):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"0"===i.sysReDEventStatus||"1"===i.sysReDEventStatus?"Scheduled":"2"===i.sysReDEventStatus?"Completed":"4"===i.sysReDEventStatus?"No Available Power\n to discharge":"Completed and\n Sent Email to Customer")))))),o.a.createElement(ge.a,{style:{width:"25%",height:"100%"}},o.a.createElement(ve.a,null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},o.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingLeft:"5%"}},o.a.createElement(x.a,{style:{fontSize:"4vw",color:"#2E384D",fontFamily:"Gotham Rounded Medium"}},i.sysReDEstGen?i.sysReDEstGen:"N/A"),o.a.createElement(x.a,{style:{fontSize:"1vw",paddingTop:"2vw",fontFamily:"Gotham Rounded Medium"}},i.sysReDEstGen?"kWh":"")),o.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",paddingLeft:"5%",paddingTop:"0"}},1==parseInt(i.sysReDEventStatus)?o.a.createElement("div",{style:{display:"flex",paddingLeft:"2%",paddingTop:"0",alignItems:"center",width:"100%",height:"100%"}},o.a.createElement(x.a,{style:{paddingTop:"0",fontSize:"1.0vw",paddingLeft:"4px",color:"black",fontWeight:"500"}},"Discharging in progress")):parseInt(i.sysReDCompVal)>0?o.a.createElement("div",{style:{display:"flex",paddingLeft:"2%",paddingTop:"0",alignItems:"center",width:"100%",height:"100%"}},o.a.createElement(rt.a,{style:{minWidth:19,maxWidth:50,height:"auto",color:"green"}}),o.a.createElement(x.a,{style:{paddingTop:"0",fontSize:"1.3vw",paddingLeft:"4px",color:"green",fontWeight:"500"}},"".concat(i.sysReDCompVal,"%"))):o.a.createElement("div",{style:{display:"flex",paddingLeft:"2%",paddingTop:"0",alignItems:"center",width:"100%",height:"100%"}},o.a.createElement(lt.a,{style:{minWidth:19,maxWidth:50,height:"auto",color:"red",transform:"rotate(270deg)"}}),o.a.createElement(x.a,{style:{paddingTop:"0",fontSize:"1.3vw",paddingLeft:"4px",color:"red",fontWeight:"500"}},"".concat(i.sysReDCompVal,"%")))))))),e))}}]),t}(a.Component),ct=Object(p.b)(function(e){return{auth:e.auth}},{})(st),dt=n(135),ut=Object(p.b)(function(e){return{auth:e.auth}},{})(function(e){var t=e.component,n=e.auth,a=Object(dt.a)(e,["component","auth"]);return o.a.createElement(h.b,Object.assign({},a,{render:function(e){return n.isAuthenticated?o.a.createElement(pe,null,o.a.createElement(t,e)):o.a.createElement(h.a,{to:"/login"})}}))});if(null!==localStorage.getItem("user")){var mt=localStorage.getItem("user"),ht=JSON.parse(localStorage.getItem("exp"));console.log("time",(new Date).getTime()),console.log("expiretime",ht);!function(){if(ht&&(console.log("date comp",new Date(ht).getTime()<(new Date).getTime()),!(new Date(ht).getTime()<(new Date).getTime())))de.dispatch({type:"LOGIN",payload:{isAuthenticated:mt.length>0,user:mt}})}()}var pt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={event:""},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.state.event;return o.a.createElement(p.a,{store:de},o.a.createElement(m.a,null,o.a.createElement(ut,{exact:!0,path:"/",component:Ne}),o.a.createElement(ut,{exact:!0,path:"/events",component:it}),o.a.createElement(ut,{exact:!0,path:"/edit-event",component:ct}),o.a.createElement(h.b,{exact:!0,path:"/login",component:We})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,n){e.exports=n.p+"static/media/shinehub-logo.41453ad6.svg"},87:function(e,t,n){e.exports=n.p+"static/media/icon-analytics.4c3d9e69.svg"},88:function(e,t,n){e.exports=n.p+"static/media/Calendar.5a8c2ef2.svg"},89:function(e,t,n){e.exports=n.p+"static/media/menu-icon.4a4ba13c.svg"},94:function(e,t,n){e.exports=n.p+"static/media/avatar-icon.07a57232.png"}},[[158,1,2]]]);
//# sourceMappingURL=main.7f724fa9.chunk.js.map