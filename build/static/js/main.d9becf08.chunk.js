(window["webpackJsonpvpp-react"]=window["webpackJsonpvpp-react"]||[]).push([[0],{110:function(e,t,a){e.exports=a.p+"static/media/Shape.386b41d8.svg"},111:function(e,t,a){e.exports=a.p+"static/media/four-rectangles.be206108.svg"},112:function(e,t,a){e.exports=a.p+"static/media/cog-wheel.df50409b.svg"},113:function(e,t,a){e.exports=a.p+"static/media/stock-market-arrow.a875d9dd.svg"},114:function(e,t,a){e.exports=a.p+"static/media/stock-market-arrow-up.668a2a22.svg"},133:function(e,t,a){e.exports=a.p+"static/media/spinner.0d0345f6.gif"},136:function(e,t,a){e.exports=a.p+"static/media/map.976a89a0.svg"},160:function(e,t,a){e.exports=a(197)},165:function(e,t,a){},174:function(e,t,a){e.exports=a.p+"static/media/Avatar.c777eefd.svg"},175:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(9),r=a.n(i),l=(a(165),a(34)),s=a(35),c=a(37),d=a(36),m=a(38),u=a(72),p=a(52),h=a(29),f=a(81),y=a(22),g=a(16),v=a(4),w=a(130),E=a(28),b=a(255),D=a(223),C=a(225),R=a(228),S=a(222),x=a(62),j=a(226),k=a(92),I=a.n(k),B=a(91),A=a.n(B),T=a(229),P=a(230),G=a(231),O=a(14),F=a(227),z=a(252),H=a(232),M=a(7),L=a(73),W=(a(108),a(127)),N=a.n(W);function Y(e){return o.a.createElement("div",{style:{position:"absolute",height:"100%",transform:"rotate(".concat(e.turns,"turn) rotate(-115deg)")}},o.a.createElement("div",{style:e.style}))}var U=function(e){var t=1/e.count;return N.a.range(e.count/1.5).map((function(a){return o.a.createElement(Y,{turns:a*t,style:e.style})}))},$=a(10),V=a.n($),_=a(128),J=a.n(_),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={config:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.availablePower,a=e.netInGrid,n=e.time;console.log("time chart",n);var o=n.map((function(e){return[e,parseInt(e.split(":")[1])]}));console.log("newTime",o);var i={title:{text:""},legend:{enabled:!1},plotOptions:{line:{marker:{enabled:!1}}},xAxis:[{categories:n,labels:{enabled:!0,format:"{value}"}}],credits:{enabled:!1},series:[{name:"Available Power",data:t,color:"#25A8A8",tooltip:{valueDecimals:2}},{name:"Net In Grid",data:a,color:"#B5D145",tooltip:{valueDecimals:2}}]};this.setState({config:i})}},{key:"render",value:function(){var e=this.state.config;return o.a.createElement(J.a,{config:e})}}]),t}(n.Component),Z=a(66),q=a.n(Z),K=a(95),Q=a.n(K),ee=(a(110),a(88)),te=a.n(ee),ae=(a(111),a(89)),ne=a.n(ae),oe=(a(112),a(90)),ie=a.n(oe),re=(a(113),a(114),a(50)),le={isAuthenticated:!1,loading:!1,user:"",userid:"",username:"",userpassword:"",sessionUser:{},error:{}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(y.a)({},e,{isAuthenticated:t.payload.isAuthenticated,user:t.payload.user,userid:t.payload.userid,username:t.payload.username,userpassword:t.payload.userpassword});case"LOGIN_ERROR":return Object(y.a)({},e,{error:t.payload});case"SESSION_USER":return Object(y.a)({},e,{sessionUser:t.payload});default:return e}},ce=Object(re.c)({auth:se}),de=a(129),me=(a(171),[de.a]),ue=Object(re.e)(ce,{},Object(re.d)(re.a.apply(void 0,me))),pe=Object(w.a)((function(e){return{root:{display:"flex",backgroundColor:"#FBFBFB"},appBar:{zIndex:e.zIndex.drawer+2,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(g.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(y.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},drawerRight:{width:340},drawerZIndex:{zIndex:0}}})),he=Object(M.a)({listRootClose:{margin:"0 auto",paddingLeft:"1%"},text:{fontSize:"2vw"}})(Object(h.b)((function(e){return{auth:e.auth}}),{getSessionUser:function(e,t){return function(a){return fetch("https://vppspark.shinehub.com.au:8443/backend-service/user/name/"+e,{method:"GET",mode:"cors",headers:{Authorization:"Basic "+O.Base64.encode("".concat(e,":").concat(t)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("exp",1e3)})),fetch("https://vppspark.shinehub.com.au:8443/backend-service/user/name/"+e,{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(e,":").concat(t)),"Content-Type":"application/json"}})}},logout:function(e){return function(t){localStorage.removeItem("user"),t({type:"LOGIN",payload:{isAuthenticated:!1,user:"",userid:"",username:"",userpassword:""}}),e.push("/login")}}})(Object(p.f)((function(e){var t,a,i=pe(),r=Object(E.a)(),l=o.a.useState({open:!1,openRight:!1,profile:"profile",editProfile:!1,navbarHidden:!1}),s=Object(f.a)(l,2),c=s[0],d=s[1],m=o.a.useState({}),u=Object(f.a)(m,2),p=(u[0],u[1]),h=Object(n.useState)({email:"",phone:""}),w=Object(f.a)(h,2),k=w[0],B=w[1];function M(e,t){var a;d(Object(y.a)({},c,(a={},Object(g.a)(a,e,!0),Object(g.a)(a,"profile",t),a)))}var L=function(e){k.email,k.phone;B(Object(y.a)({},k,Object(g.a)({},e.target.name,e.target.value)))};function W(e){d(Object(y.a)({},c,Object(g.a)({},e,!1)))}Object(n.useEffect)((function(){var t=e.auth,a=t.username,n=t.userpassword;e.getSessionUser(a,n).then((function(e){return e.json()})).then((function(t){t.data.id,0===t.success&&e.history.push("/login"),B(Object(y.a)({},k,{email:t.data.email,phone:t.data.phone})),p(t.data),ue.dispatch({type:"SESSION_USER",payload:t.data})})),"/login"!==e.location.pathname&&e.auth.isAuthenticated?d(Object(y.a)({},c,{navbarHidden:!1})):d(Object(y.a)({},c,{navbarHidden:!0}))}),[]);return o.a.createElement("div",null,c.navbarHidden?null:o.a.createElement("div",{className:i.root},o.a.createElement(S.a,null),o.a.createElement(D.a,{style:{backgroundColor:"#fff"},position:"fixed",className:Object(v.a)(i.appBar,Object(g.a)({},i.appBarShift,c.open))},o.a.createElement(C.a,null,o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(j.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return M("open")},edge:"start",className:Object(v.a)(i.menuButton,Object(g.a)({},i.hide,c.open))},o.a.createElement("img",{src:ie.a})),o.a.createElement(x.a,{variant:"h6",noWrap:!0},o.a.createElement("a",{href:"https://monitoring.shinehub.com.au"},o.a.createElement("img",{src:q.a})))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("img",{onClick:function(){M("openRight","profile")},src:Q.a,style:{width:30,height:30}}))))),o.a.createElement(b.a,{style:{textAlign:"center",margin:"0 auto"},variant:"permanent",className:Object(v.a)(i.drawer,(t={},Object(g.a)(t,i.drawerOpen,c.open),Object(g.a)(t,i.drawerClose,!c.open),t)),classes:{paper:Object(v.a)((a={},Object(g.a)(a,i.drawerOpen,c.open),Object(g.a)(a,i.drawerClose,!c.open),a))},open:c.open},o.a.createElement("div",{className:i.toolbar},o.a.createElement(j.a,{onClick:function(){return W("open")}},"rtl"===r.direction?o.a.createElement(A.a,null):o.a.createElement(I.a,null))),o.a.createElement(F.a,null),o.a.createElement(R.a,{classes:{root:i.listRootClose},style:c.open?{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",paddingLeft:"1%"}:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",paddingLeft:"7%"}},[{icon:te.a,text:"Overview",onClick:"/"},{icon:ne.a,text:"Events",onClick:"/events"}].map((function(t,a){return o.a.createElement(T.a,{button:!0,style:"Events"===t.text?{paddingLeft:"12%",display:"flex",alignItems:"center"}:{display:"flex",alignItems:"center"},key:a,onClick:function(){return e.history.push(t.onClick)}},o.a.createElement(P.a,null,o.a.createElement("img",{src:t.icon})),o.a.createElement(G.a,{style:{color:"#83C4C4"},primary:t.text,classes:{root:i.text}}))})))),o.a.createElement(b.a,{anchor:"right",classes:{paperAnchorRight:i.drawerRight},style:{zIndex:1},open:c.openRight,onClose:function(){return W("openRight")}},o.a.createElement("div",{className:i.toolbar}),"profile"===c.profile?o.a.createElement("div",{style:{display:"flex",position:"relative",flexDirection:"column",alignItems:"center",paddingTop:"13%",height:"100%"}},o.a.createElement("div",{style:{width:"100%",flexDirection:"column",display:"flex"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"}},o.a.createElement("img",{src:Q.a,style:{width:150,height:150}}),o.a.createElement(x.a,{style:{padding:"3% 0 10% 0",fontSize:"200%",fontWeight:"500",color:"#2E384D",fontFamily:"Gotham Rounded Medium"}},e.auth.sessionUser.name),o.a.createElement(F.a,{style:{width:"80%"},variant:"middle"})),o.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-start"}},o.a.createElement("div",{style:{width:"100%",padding:"6% 0 6% 6%"}},o.a.createElement(x.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Medium",fontSize:13}},"email".toUpperCase()),c.editProfile?o.a.createElement(z.a,{variant:"outlined",inputProps:{height:"1px",margin:0,padding:0},name:"email",onChange:L,value:k.email}):o.a.createElement(x.a,{style:{color:"#333333",fontFamily:"Gotham Rounded Medium"}},e.auth.sessionUser.email)),o.a.createElement("div",{style:{width:"100%",paddingLeft:"6%"}},o.a.createElement(x.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Medium",fontSize:13}},"phone".toUpperCase()),c.editProfile?o.a.createElement(z.a,{variant:"outlined",inputProps:{height:"1px",margin:0,padding:0},name:"phone",onChange:L,value:k.phone}):o.a.createElement(x.a,{style:{color:"#333333",fontFamily:"Gotham Rounded Medium"}},e.auth.sessionUser.phone))),o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",paddingTop:"10%"}},c.editProfile?o.a.createElement(H.a,{onClick:function(){return function(){var t=k.email,a=k.phone,n=e.auth,o=(n.isAuthenticated,n.user,n.userid),i=n.username,r=n.userpassword;fetch("https://vppspark.shinehub.com.au:8443/backend-service/user/"+o,{method:"PATCH",headers:{Authorization:"Basic "+O.Base64.encode("".concat(i,":").concat(r)),"Content-Type":"application/json"},body:JSON.stringify({email:t,phone:a})}).then((function(e){return e.json()})).then((function(t){e.getSessionUser(i,r).then((function(e){return e.json()})).then((function(e){B(Object(y.a)({},k,{email:e.data.email,phone:e.data.phone})),p(e.d),d(Object(y.a)({},c,{editProfile:!1})),ue.dispatch({type:"SESSION_USER",payload:e.data})}))}))}()},variant:"contained",style:{color:"#fff",backgroundColor:"#25a8a8",textTransform:"none"}},"Save"):o.a.createElement(H.a,{onClick:function(){return d(Object(y.a)({},c,{editProfile:!0}))},variant:"contained",style:{color:"#fff",backgroundColor:"#25a8a8",textTransform:"none",fontFamily:"Gotham Rounded Medium"}},"Edit profile")),o.a.createElement("div",{style:{display:"flex",width:"100%",position:"absolute",bottom:"3%",justifyContent:"center",paddingTop:"10%"}},o.a.createElement(H.a,{onClick:function(){return t=e.history,void e.logout(t);var t},variant:"contained",style:{color:"#fff",backgroundColor:"#25a8a8",textTransform:"none",fontFamily:"Gotham Rounded Medium"}},"Logout")))):o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(x.a,{style:{fontSize:"200%",fontWeight:"bold"}},"Coming Soon!"))))),o.a.createElement("main",{className:Object(v.a)(Object(g.a)({},i.content,!c.navbarHidden))},c.navbarHidden?null:o.a.createElement("div",{className:i.toolbar}),e.children))})))),fe=a(46),ye=a(137),ge=a(233),ve=a(234),we=a(235),Ee=a(237),be=a(238),De=a(257),Ce=a(60),Re=a(26),Se=a(253),xe=(a(174),a(133)),je=a.n(xe),ke=function(){return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("img",{src:je.a,style:{width:100}}))},Ie=a(236),Be=(a(175),a(239)),Ae={control:function(e,t){return Object(y.a)({},e,{"&:hover":{borderColor:t.isFocused?"#00008b":e.borderColor}})}},Te=Object(ye.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#25A8A8"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:"#25A8A8"},daySelected:{backgroundColor:"#25A8A8"},dayDisabled:{color:"#25A8A8"},current:{color:"#25A8A8"}},MuiPickersModal:{dialogAction:{color:"#25A8A8"}},MuiOutlinedInput:{root:{position:"relative","& $notchedOutline":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:"#00008b","@media (hover: none)":{borderColor:"rgba(0, 0, 0, 0.23)"}},"&$focused $notchedOutline":{borderColor:"#4A90E2",borderWidth:2}}}}}),Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={events:[],chartData:[],locations:[],loading:!0,openAddEvent:!1,location:null,date:null,from:null,to:null,status:null,power:45,windowHeight:window.innerHeight,windowWidth:window.innerWidth,validationText:""},a.onResizeWindow=function(){console.log("width",window.innerWidth),a.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight}),console.log("height",window.innerHeight)},a.onClickSave=function(){var e=a.props.auth,t=(e.isAuthenticated,e.user,a.props.auth),n=(t.userid,t.username),o=t.userpassword,i=a.state,r=i.power,l=i.location,s=i.date,c=i.from,d=i.to;return null===l?a.setState({validationText:"Please enter all details"}):null===s?a.setState({validationText:"Please enter all details"}):null===c?a.setState({validationText:"Please enter all details"}):null===d?a.setState({validationText:"Please enter all details"}):void fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/group/",{method:"POST",headers:{Authorization:"Basic "+O.Base64.encode("".concat(n,":").concat(o)),"Content-Type":"application/json"},body:JSON.stringify({groupId:l.id,starttime:V()(c,"HH:mm:ss").format("HH:mm"),endtime:V()(d,"HH:mm:ss").format("HH:mm"),date:V()(s).format("YYYY-MM-DD"),power:1e3*r,eventStatus:0})}).then((function(e){return e.text()})).then((function(e){if(1!==JSON.parse(e).success)return ue.dispatch({type:"LOGIN_ERROR",payload:{value:"Cannot add this event. Please check your details and try again!"}});Promise.all([fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/upcoming/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(n,":").concat(o)),"Content-Type":"application/json"}}),fetch("https://vppspark.shinehub.com.au:8443/backend-service/group/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(n,":").concat(o)),"Content-Type":"application/json"}})]).then((function(e){return e.map((function(e){return e.json()}))})).then((function(e){Promise.all([e[0],e[1]]).then((function(e){return a.setState({loading:!1,openAddEvent:!1,showEvents:e[0].data,events:e[0].data,locations:e[1].data})}))}))}))},a.onChange=function(e,t,n){switch(console.log("e",e),t){case"date":var o=V()(e).format("YYYY-MM-DD");return a.setState(Object(g.a)({},t,o),(function(){n&&a.onFilterEvents()}));case"location":return a.setState({location:e,power:e.maxPower},(function(){n&&(console.log("running callback"),a.onFilterEvents())}));default:return a.setState(Object(g.a)({},t,e),(function(){n&&a.onFilterEvents()}))}},a.onChangeLocation=function(e,t){var n,o=a.props.auth,i=(o.userid,o.username),r=o.userpassword;a.setState((n={},Object(g.a)(n,t,e),Object(g.a)(n,"loading",!0),n),(function(){console.log("e.id",e.id),fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/upcoming/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(i,":").concat(r)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){fetch("https://vppspark.shinehub.com.au:8443/backend-service/dashboard/data/group/"+e.id,{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(i,":").concat(r)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({events:t.data?t.data:[],chartData:e.data?e.data:{},loading:!1})}))}))}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,a=t.isAuthenticated,n=(t.user,t.userid),o=this.props.auth,i=o.username,r=o.userpassword;console.log("isAuthenticated",a),console.log("userid",n),console.log("username",i),console.log("password",r),window.addEventListener("resize",this.onResizeWindow),fetch("https://vppspark.shinehub.com.au:8443/backend-service/dashboard/data/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(i,":").concat(r)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return fetch("https://vppspark.shinehub.com.au:8443/backend-service/group/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(i,":").concat(r)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/upcoming/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(i,":").concat(r)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(n){if(-2===n.r||1!=t.success)return e.props.history.push("/login");e.setState({loading:!1,locations:a.data,events:n.data?n.data:[],chartData:t.data?t.data:{}})}))}))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeWindow)}},{key:"componentDidUpdate",value:function(){console.log("isAuthenticated",this.props.auth.isAuthenticated)}},{key:"render",value:function(){var e,t,a,n=this,i=this.props.classes,r=this.props.auth,l=(r.isAuthenticated,r.user),s=r.error,c=this.state,d=c.events,m=c.chartData,u=c.locations,p=c.loading,h=c.location,f=c.date,y=c.to,g=c.from,v=c.power,w=c.openAddEvent,E=(c.windowHeight,c.windowWidth,c.validationText);if(Object.keys(m).length>0){m.BatteryCap=m.CurrentAvailablePower,m.BatteryCount=m.SystemNumber,m.BatteryTotal=m.CurrentAvailablePower;var b=m.BatteryCap,D=m.BatteryCount,C=m.BatteryTotal;t=o.a.createElement("div",{style:{width:"41vw",height:"20vw",marginRight:"2vw"}},o.a.createElement(ge.a,{style:{borderRadius:8,height:"100%"}},o.a.createElement(ve.a,{style:{width:"100%",height:"100%"}},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"space-evenly",alignItems:"center"}},o.a.createElement("div",{style:{width:"16vw"}},o.a.createElement(L.a,{value:"number"!==typeof b||"number"!==typeof C?parseInt(b)/parseInt(C)*100:0,strokeWidth:15,circleRatio:.6,className:"CircularProgressbar",styles:Object(L.b)({rotation:.625,strokeLinecap:"butt",trailColor:"#D3E9EA",pathColor:"#25A8A8",alignSelf:"flex-end"})},o.a.createElement(U,{count:60,style:{borderBottomColor:"transparent",background:"#fff",width:".45vw",height:"2.4vw"}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:0,margin:0}},o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Medium",fontSize:"3.5vw",padding:0,margin:0}},Math.round(b/1e3)),o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Light",margin:"2vw 0 0 0",fontSize:"0.8vw",padding:0}},"kW")),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:0,margin:0}},o.a.createElement("div",{style:{color:"#83C4C4",fontSize:"1.1vw",fontFamily:"Gotham Rounded Light",padding:0,margin:0,textTransform:"uppercase"}},"Available"),o.a.createElement("div",{style:{color:"#83C4C4",fontFamily:"Gotham Rounded Light",padding:0,margin:0,fontSize:"1.1vw",textTransform:"uppercase"}},"Power"))))),o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Bold",paddingLeft:"8px",paddingBottom:"10%"}},o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Medium",fontSize:"2.2vw"}},"Your Virtual"),o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Medium",fontSize:"2.2vw"}},"Power Plant"),o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Light",color:"#828282",fontSize:"1vw",display:"inline-block",overflowWrap:"break-word"}},1==D?"There is currently ".concat(D):"There are currently ".concat(D),o.a.createElement(x.a,{style:{display:"table",fontFamily:"Gotham Rounded Light",color:"#828282",fontSize:"1vw"}},1==D?"home in your fleet":"homes in your fleet"))))))),e=o.a.createElement("div",{style:{padding:"3% 0",display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(ge.a,{style:{borderRadius:8,width:"84vw"}},o.a.createElement(ve.a,{style:{width:"100%"}},o.a.createElement("div",{style:{display:"flex",marginBottom:"6px",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{padding:"0 0 3% 8%",color:"#83C4C4",fontSize:"1.3vw",fontFamily:"Gotham Rounded Light"}},"Power".toUpperCase()),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",alignSelf:"flex-end"}},o.a.createElement("div",{style:{display:"flex",paddingRight:"2vw",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#25A8A8",width:"1vw",height:"1vw",borderRadius:50}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282"}},"Available Power")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#B5D145",width:"1vw",height:"1vw",borderRadius:40}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282",paddingRight:"28px"}},"Net Grid Power")))),o.a.createElement(X,{charge:m.NetToGrid,time:m.Time,availablePower:m.AvailablePower,netInGrid:m.NetToGrid}))))}return d.length>0&&(a=d.length>0?d.map((function(e){return o.a.createElement("div",{style:{}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Medium",fontSize:"1.3vw"}},e.groupId),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(x.a,{style:{paddingRight:"1px",fontFamily:"Gotham Rounded Medium",fontSize:"1.3vw"}},"".concat(parseInt(e.power)/1e3," kW")))),o.a.createElement("div",{style:{display:"flex",padding:"1% 0",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Medium",color:"#828282",fontSize:"1vw"}},V()(e.date).format("DD/MM/YYYY")),o.a.createElement("div",{style:{fontFamily:"Gotham Rounded Medium",color:"#828282",fontSize:"1vw"}},"".concat(V()(e.startTime,"HH:mm:ss").format("HH:mm"),"-").concat(V()(e.endTime,"HH:mm:ss").format("HH:mm")))))})):o.a.createElement(x.a,null,"No Upcoming Events!")),o.a.createElement("div",{style:{paddingLeft:"4vw"}},p?o.a.createElement(ke,null):o.a.createElement("div",{style:{}},console.log("user",l),l.includes("admin")?o.a.createElement("div",{style:{display:"flex",padding:"1% 0 1% 5%",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement("div",{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement("div",{style:{fontSize:"1vw"}},"Location".toUpperCase()),o.a.createElement(fe.a,{onChange:function(e){return n.onChangeLocation(e,"location")},value:h,styles:Ae,placeholder:"All States",options:u?u.map((function(e){return console.log("location all state",e),{value:e.name,label:e.name,id:e.id}})):[]}))):"",o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},t,o.a.createElement("div",{style:{width:"41vw",height:"20vw",position:"relative"}},d.length>=0?o.a.createElement(ge.a,{style:{overflow:"auto",height:"100%",borderRadius:8}},o.a.createElement(ve.a,{style:{width:"100%",height:"100%",padding:"2vw"}},o.a.createElement(x.a,{style:{fontFamily:"Gotham Rounded Light",color:"#83C4C4",fontSize:"1.3vw",textTransform:"uppercase"}},"Upcoming Events"),o.a.createElement("div",{style:{padding:"2vw 0"}},a))):o.a.createElement(x.a,{style:{fontSize:"3vw",fontFamily:"Gotham Rounded Bold",textAlign:"center"}},"Nothing to show!"),l.includes("admin")?o.a.createElement("div",{style:{position:d.length>0?"absolute":"fixed",right:d.length>0?"-3%":"4%",width:"4vw",height:"4vw",top:d.length>0?"-7%":"90%",zIndex:1}},o.a.createElement(we.a,{style:{width:"100%",height:"100%",alignSelf:"flex-end",backgroundColor:"#25A8A8"},onClick:function(){return n.setState({openAddEvent:!0})}},o.a.createElement(Ie.a,{style:{color:"#fff",fontSize:"2vw"}}))):"")),e),o.a.createElement(Ee.a,{fullWidth:!0,style:{zIndex:2},open:w,onClose:function(){return n.setState({openAddEvent:!1})}},o.a.createElement(be.a,{style:{height:"28vw"}},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",zIndex:3}},o.a.createElement("div",{style:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",height:"100%"}},o.a.createElement(x.a,{style:{color:"#25A8A8",fontFamily:"Gotham Rounded Light"}},"Add event".toUpperCase()),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Location"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(fe.a,{onChange:function(e){return n.onChange(e,"location",!1)},value:h,styles:Ae,placeholder:"All States",options:u?u.map((function(e){return{value:e.name,label:e.name,id:e.id,maxPower:e.maxPower/1e3}})):[]}))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Date"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(Be.a,{theme:Te},o.a.createElement(Re.a,{className:"MuiOutlinedInput-input",utils:Ce.a},o.a.createElement(Se.a,{disableToolbar:!0,inputVariant:"outlined",style:{fontFamily:"Gotham Rounded Light"},placeholder:"Date",format:"DD/MM/YY",onChange:function(e){return n.onChange(e,"date",!1)},value:f}))))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Time"),o.a.createElement("div",{style:{display:"flex",width:"70%",alignItems:"center"}},o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(z.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===g?"02:00":g,style:{fontFamily:"Gotham Rounded Medium"},placeholder:"Enter as 22:15",onChange:function(e){return n.setState({from:e.target.value})}})),o.a.createElement(x.a,{style:{color:"#333",width:"20%",textAlign:"center",fontFamily:"Gotham Rounded Light"}},"to"),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(z.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===y?"04:00":y,style:{fontFamily:"Gotham Rounded Light"},placeholder:"04:00",onChange:function(e){return n.setState({to:e.target.value})}})))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Power"),o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"".concat(v," kW"))),o.a.createElement(De.a,{value:v,max:h?h.maxPower:100,"aria-label":"custom thumb label",onChange:function(e,t){return n.setState({power:t})},classes:{thumb:i.thumb,track:i.track}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},E?o.a.createElement(x.a,{style:{color:"red"}},E):null,s?o.a.createElement(x.a,{style:{color:"red"}},s.value):null),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},o.a.createElement(H.a,{onClick:this.onClickSave,variant:"contained",style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"}},"Save")))))))}}]),t}(n.Component),Ge=Object(M.a)({firstBarColor:{backgroundColor:"#E84A50"},secondBarColor:{backgroundColor:"#B5D145"},dateInput:{padding:"1%"}})(Object(h.b)((function(e){return{auth:e.auth}}),{})(Pe)),Oe=a(136),Fe=a.n(Oe),ze=(a(176),a(124)),He=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.onSignIn=function(e){e.preventDefault();var t=a.state,n=t.email,o=t.password;a.props.login(n,o,a.props.history,ze)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){e.auth.error&&console.log("nextProps.auth.error",e.auth.error)}},{key:"render",value:function(){var e=this.props.classes,t=this.props.auth.error,a=this.state,n=a.email,i=a.password;return o.a.createElement("div",{style:{backgroundColor:"#E5E5E5",display:"flex",height:"100vh",width:"100vw",justifyContent:"center",alignItems:"center"}},o.a.createElement(ge.a,{style:{height:"100%",width:"100%"}},o.a.createElement(ve.a,{style:{display:"flex",height:"100%",padding:0}},o.a.createElement("div",{style:{padding:"5%",height:"100%",width:"50%",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"60%"}},o.a.createElement("div",null,o.a.createElement("img",{src:q.a})),o.a.createElement("div",{style:{paddingTop:"15%",display:"flex",flexDirection:"column",justifyContent:"space-around"}},o.a.createElement(x.a,{variant:"h5",style:{fontFamily:"Gotham Rounded Bold",fontWeight:"bolder",color:"#2E384D"}},"ShineHub Virtual"),o.a.createElement(x.a,{variant:"h5",style:{fontFamily:"Gotham Rounded Bold",fontWeight:"bolder",color:"#2E384D"}},"Power Plant"),o.a.createElement(x.a,{style:{color:"#8798AD",fontSize:"87%",paddingBottom:"7%",fontFamily:"Gotham Rounded Medium"}},"Login below to proceed"),Object.keys(t).length>0?o.a.createElement(x.a,{style:{color:"red",fontSize:"87%",paddingBottom:"7%"}},t.value):"",o.a.createElement(x.a,{style:{fontSize:"70%",color:"#BDBDBD",letterSpacing:"1.12px",fontWeight:"600",fontFamily:"Gotham Rounded Bold"}},"Email Address".toUpperCase()),o.a.createElement("form",{style:{width:"100%"},noValidate:!0,onSubmit:this.onSignIn},o.a.createElement(z.a,{name:"email",style:{width:"100%",paddingTop:"2%",fontFamily:"Gotham Rounded Bold"},value:n,onChange:this.onChange,variant:"outlined",inputProps:{style:{height:"1px",margin:0,backgroundColor:"rgba(224,231,255,0.2)",fontFamily:"Gotham Rounded Bold"}}})),o.a.createElement("div",{style:{paddingTop:"6%",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{fontSize:"70%",color:"#BDBDBD",letterSpacing:"1.12px",fontWeight:"600",fontFamily:"Gotham Rounded Bold"}},"Password".toUpperCase()),o.a.createElement(x.a,{style:{fontSize:"70%",color:"#BDBDBD",letterSpacing:"1.12px",fontWeight:"600",fontFamily:"Gotham Rounded Bold"}},"Forgot Password?")),o.a.createElement("form",{style:{width:"100%"},onSubmit:this.onSignIn,noValidate:!0},o.a.createElement(z.a,{name:"password",type:"password",style:{width:"100%",paddingTop:"2%",fontFamily:"Gotham Rounded Bold"},value:i,onChange:this.onChange,variant:"outlined",inputProps:{style:{height:"1px",margin:0,backgroundColor:"rgba(224,231,255,0.2)"}}}),o.a.createElement("div",{style:{width:"100%",paddingTop:"7%"}},o.a.createElement(H.a,{onClick:this.onSignIn,style:{backgroundColor:"#25A8A8",width:"100%",color:"#fff",padding:"4% 0",fontFamily:"Gotham Rounded Bold"},variant:"contained",classes:{label:e.label}},"Sign in")))))),o.a.createElement("div",{style:{backgroundImage:"url(".concat(Fe.a,")"),width:"50%",position:"relative"}},o.a.createElement("div",null)))))}}]),t}(n.Component),Me=Object(M.a)({label:{textTransform:"none"},textField:{height:"22px",padding:0,margin:0}})(Object(h.b)((function(e){return{auth:e.auth}}),{login:function(e,t,a,n){return function(n){fetch("https://vppspark.shinehub.com.au:8443/backend-service/user/name/"+e,{method:"GET",mode:"cors",headers:{Authorization:"Basic "+O.Base64.encode("".concat(e,":").concat(t)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(o){if("undefined"===typeof o.success)throw o;fetch("https://vppspark.shinehub.com.au:8443/backend-service/user/name/"+e,{method:"GET",mode:"cors",headers:{Authorization:"Basic "+O.Base64.encode("".concat(e,":").concat(t)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(i){localStorage.setItem("user",o.data),localStorage.setItem("userID",o.data.id),localStorage.setItem("exp",1e3),localStorage.setItem("username",e),localStorage.setItem("password",t),console.log(o.data.id),n({type:"LOGIN",payload:{isAuthenticated:1===o.success,user:1===o.success?"admin":"",userid:o.data.id,username:e,userpassword:t}}),a.push("/")}))})).catch((function(e){return n({type:"LOGIN_ERROR",payload:{value:"Incorrect credentials"}})}))}}})(He)),Le=a(242),We=a(243),Ne=a(244),Ye=a(245),Ue=a(246),$e=a(249),Ve=a(240),_e=a(247),Je=a(248),Xe=(a(196),a(241)),Ze=(a(124),{control:function(e,t){return Object(y.a)({},e,{"&:hover":{borderColor:t.isFocused?"#00008b":e.borderColor}})},input:function(e,t){return Object(y.a)({},e)}}),qe=Object(ye.a)({overrides:{MuiPickersToolbar:{toolbar:{backgroundColor:"#25A8A8"}},MuiPickersCalendarHeader:{switchHeader:{}},MuiPickersDay:{day:{color:"#25A8A8"},daySelected:{backgroundColor:"#25A8A8"},dayDisabled:{color:"#25A8A8"},current:{color:"#25A8A8"}},MuiOutlinedInput:{root:{position:"relative","& $notchedOutline":{borderColor:"rgba(0, 0, 0, 0.23)"},"&:hover:not($disabled):not($focused):not($error) $notchedOutline":{borderColor:"#00008b","@media (hover: none)":{borderColor:"rgba(0, 0, 0, 0.23)"}},"&$focused $notchedOutline":{borderColor:"#4A90E2",borderWidth:2}}},MuiInputBase:function(e){return console.log("focus",e),{formControl:{},focused:{}}},datePicker:{selectColor:"red",borderColor:"red",backgroundColor:"red"},palette:{backgroundColor:"red"},MuiPickersModal:{dialogAction:{color:"red",selectColor:"red",backgroundColor:"red"}}}}),Ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={openAddEvent:!1,filterLocation:null,filterDate:null,filterStartPower:15,filterEndPower:30,filterStatus:"",events:[],showEvents:[],power:45,locations:[],location:null,date:null,from:null,to:null,status:null,loading:!0,openPriceDialog:!1,price:"",touchedPower:!1,idPrice:"",namePrice:"",datePrice:"",startTimePrice:"",endTimePrice:"",hasCompletedPrice:"",isEmail:"",validationText:""},a.onChange=function(e,t,n){switch(console.log("e",e),t){case"location":return a.setState({location:e,power:e.maxPower},(function(){n&&(console.log("running callback"),a.onFilterEvents())}));case"price":return a.setState({price:e.target.value},(function(){n&&(console.log("running callback"),a.onFilterEvents())}));default:return a.setState(Object(g.a)({},t,e),(function(){n&&(console.log("running callback"),a.onFilterEvents())}))}},a.onClickSave=function(){var e=a.props.auth,t=(e.isAuthenticated,e.user,e.userid,e.username),n=e.userpassword,o=a.state,i=o.power,r=o.location,l=o.date,s=o.from,c=o.to;return null===r?a.setState({validationText:"Please enter all details"}):null===l?a.setState({validationText:"Please enter all details"}):null===s?a.setState({validationText:"Please enter all details"}):null===c?a.setState({validationText:"Please enter all details"}):void fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/group/",{method:"POST",headers:{Authorization:"Basic "+O.Base64.encode("".concat(t,":").concat(n)),"Content-Type":"application/json"},body:JSON.stringify({groupId:r.id,starttime:V()(s,"HH:mm:ss").format("HH:mm"),endtime:V()(c,"HH:mm:ss").format("HH:mm"),date:V()(l).format("YYYY-MM-DD"),power:1e3*i,eventStatus:0})}).then((function(e){return e.text()})).then((function(e){if(1!==JSON.parse(e).r)return ue.dispatch({type:"LOGIN_ERROR",payload:{value:"Cannot add this event. Please correct your details and try again!"}});Promise.all([fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/all/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(t,":").concat(n)),"Content-Type":"application/json"}}),fetch("https://vppspark.shinehub.com.au:8443/backend-service/group/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(t,":").concat(n)),"Content-Type":"application/json"}})]).then((function(e){return e.map((function(e){return e.json()}))})).then((function(e){Promise.all([e[0],e[1]]).then((function(e){return a.setState({loading:!1,openAddEvent:!1,showEvents:e[0].data,events:e[0].data,locations:e[1].data})}))}))}))},a.onClickSavePrice=function(e,t){var n=a.props.auth,o=(n.isAuthenticated,n.user,n.userid,n.username),i=n.userpassword,r=a.state;r.power,r.location,r.date,r.from,r.to;fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleEditGroupDischargePrice.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e,p:t}})})}).then((function(e){return e.text()})).then((function(e){Promise.all([fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/all/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(o,":").concat(i)),"Content-Type":"application/json"}}),fetch("https://vppspark.shinehub.com.au:8443/backend-service/group/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(o,":").concat(i)),"Content-Type":"application/json"}})]).then((function(e){return e.map((function(e){return e.json()}))})).then((function(e){Promise.all([e[0],e[1]]).then((function(e){return a.setState({loading:!1,openPriceDialog:!1,showEvents:e[0].data,events:e[0].data,locations:e[1].data})}))}))}))},a.onClickSaveAndSendPrice=function(e,t){var n=a.props.auth,o=(n.isAuthenticated,n.user,n.userid,n.username),i=n.userpassword,r=a.state;r.power,r.location,r.date,r.from,r.to;window.confirm("Are you sure? This cannot be undone!")&&fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleEditPriceSendEmail.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e,p:t}})})}).then((function(e){return e.text()})).then((function(e){Promise.all([fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/group/all/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(o,":").concat(i)),"Content-Type":"application/json"}}),fetch("https://vppspark.shinehub.com.au:8443/backend-service/group/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(o,":").concat(i)),"Content-Type":"application/json"}})]).then((function(e){return e.map((function(e){return e.json()}))})).then((function(e){Promise.all([e[0],e[1]]).then((function(e){return a.setState({loading:!1,openPriceDialog:!1,showEvents:e[0].data,events:e[0].data,locations:e[1].data})}))}))}))},a.onClickEvent=function(e){a.props.history.push({pathname:"/edit-event",state:{event:e}})},a.onFilterEvents=function(){var e=a.state,t=e.filterLocation,n=e.filterDate,o=e.filterStartPower,i=e.filterEndPower,r=e.filterStatus,l=e.events,s=e.touchedPower,c=l.filter((function(e){return e.availablepower=e.power,e.groupname=e.groupname,e.sysReDCompVal=e.compval,e.sysReDControlMode="",e.sysReDCreatTime=e.createdTime,e.sysReDDaily="",e.sysReDDate=e.date,e.sysReDEndCap=e.endCap,e.sysReDEstGen=e.estgen,e.sysReDEventStatus=e.eventstatus,e.sysReDGroupID=e.groupId,e.sysReDId="eventId",e.sysReDIsComplete=e.isComplete,e.sysReDIsEmail=e.isemail,e.sysReDIsPrice=e.isprice,e.sysReDIsStart=e.isStart,e.sysReDIsValid=1,e.sysReDMode="",e.sysReDNeedCharge=0,e.sysReDPower=e.power,e.sysReDPrice=e.power.price,e.sysReDSOC=10,e.sysReDStartCap=e.startBattery,e.sysReDStartTime=e.startTime,e.sysReDEndTime=e.endTime,e.sysReDStatus="1",e.sysReDTargetCap=e.finalBattery,t?n?s?r?t.value===e.groupname&&new Date(n._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:t.value===e.groupname&&new Date(n._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?t.value===e.groupname&&new Date(n._d).getDate()===new Date(e.sysReDDate).getDate()&&r.value===e.sysReDIsComplete:t.value===e.groupname&&new Date(n._d).getDate()===new Date(e.sysReDDate).getDate():s?r?t.value===e.groupname&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:t.value===e.groupname&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?t.value===e.groupname&&r.value===e.sysReDIsComplete:t.value===e.groupname:n?s?r?new Date(n._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:new Date(n._d).getDate()===new Date(e.sysReDDate).getDate()&&o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?new Date(n._d).getDate()===new Date(e.sysReDDate).getDate()&&r.value===e.sysReDIsComplete:new Date(n._d).getDate()===new Date(e.sysReDDate).getDate():s?r?o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3&&r.value===e.sysReDIsComplete:o<=parseInt(e.sysReDPower)/1e3&&i>=parseInt(e.sysReDPower)/1e3:r?r.value===e.sysReDIsComplete:null}));a.setState({showEvents:c})},a.onClickPriceDialog=function(e,t,n,o,i,r){var l=a.state;l.price,l.openPriceDialog},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth,a=(t.isAuthenticated,t.user,t.userid,t.username),n=t.userpassword;Promise.all([fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/all/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(a,":").concat(n)),"Content-Type":"application/json"}}),fetch("https://vppspark.shinehub.com.au:8443/backend-service/group/",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(a,":").concat(n)),"Content-Type":"application/json"}})]).then((function(e){return e.map((function(e){return e.json()}))})).then((function(t){Promise.all([t[0],t[1]]).then((function(t){return e.setState({loading:!1,showEvents:t[0].data,events:t[0].data,locations:t[1].data})}))}))}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=(a.status,a.validationText),i=a.filterLocation,r=a.filterDate,l=a.filterStatus,s=a.openAddEvent,c=(a.events,a.power),d=a.location,m=a.loading,u=a.date,p=(a.editClicked,a.from),h=a.to,f=a.filterStartPower,y=a.filterEndPower,g=a.locations,v=a.showEvents,w=a.namePrice,E=a.datePrice,b=a.startTimePrice,D=a.endTimePrice,C=a.hasCompletedPrice,R=a.openPriceDialog,S=a.price,j=a.isEmail,k=a.idPrice,I=this.props.auth,B=(I.isAuthenticated,I.user),A=I.error;return o.a.createElement("div",{style:{position:"relative",backgroundColor:"#FBFBFB",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:m?"center":"flex-start",padding:"5vw 0 0 5vw"}},m?o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(ke,null)):o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-around",alignItems:"center",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",width:"100%"}},o.a.createElement("div",{style:{display:"flex",width:"65vw",flexDirection:"column",alignItems:"flex-start"}},o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{fontSize:"2.2vw",paddingRight:"20px",fontWeight:"bolder",fontFamily:"Gotham Rounded Bold"}},"Events"),o.a.createElement(x.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",paddingTop:"1%",fontSize:"1.3vw"}},"".concat(Array.isArray(v)?v.length:""," ").concat(Array.isArray(v)?1===v.length?"result":"results":""))),o.a.createElement("div",{style:{width:"100%"}},o.a.createElement(Le.a,null,o.a.createElement(We.a,{style:{backgroundColor:"#FBFBFB"}},o.a.createElement(Ne.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Location"),o.a.createElement(Ne.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Date"),o.a.createElement(Ne.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Time"),o.a.createElement(Ne.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Power"),o.a.createElement(Ne.a,null),o.a.createElement(Ne.a,{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Bold",fontSize:"1.3vw"}},"Status"),o.a.createElement(Ne.a,null),o.a.createElement(Ne.a,null)),o.a.createElement(Ye.a,null,Array.isArray(v)?v.map((function(t){return t.availablepower=t.power,t.groupname=t.groupname,t.sysReDCompVal=t.compval,t.sysReDControlMode="",t.sysReDCreatTime=t.createdTime,t.sysReDDaily="",t.sysReDDate=t.date,t.sysReDEndCap=t.endCap,t.sysReDEstGen=t.estgen,t.sysReDEventStatus=t.eventstatus,t.sysReDGroupID=t.groupId,t.sysReDId="eventId",t.sysReDIsComplete=t.isComplete,t.sysReDIsEmail=t.isemail,t.sysReDIsPrice=t.isprice,t.sysReDIsStart=t.isStart,t.sysReDIsValid=1,t.sysReDMode="",t.sysReDNeedCharge=0,t.sysReDPower=t.power,t.sysReDPrice=t.power.price,t.sysReDSOC=10,t.sysReDStartCap=t.startBattery,t.sysReDStartTime=t.startTime,t.sysReDEndTime=t.endTime,t.sysReDStatus="1",t.sysReDTargetCap=t.finalBattery,o.a.createElement(Ue.a,{style:{backgroundColor:"#fff",border:"15px solid #FBFBFB"}},o.a.createElement(Ne.a,{style:{whiteSpace:"nowrap"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end"}},o.a.createElement(x.a,{style:{padding:0,margin:0,fontFamily:"Gotham Rounded Medium",color:"#2E384D",fontSize:"1.2vw"}},t.groupname),o.a.createElement(x.a,{style:{padding:0,margin:0,color:"#BDBDBD",fontFamily:"Gotham Rounded Light",fontSize:"1.2vw"}},"#".concat(t.sysReDId)))),o.a.createElement(Ne.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},V()(t.sysReDDate).format("DD / MM / YY")),o.a.createElement(Ne.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},"".concat(V()(t.sysReDStartTime,"HH:mm").format("HH:mm")," - ").concat(V()(t.sysReDEndTime,"HH:mm").format("HH:mm"))),o.a.createElement(Ne.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},"".concat(t.sysReDPower/1e3,"kW")),o.a.createElement(Ne.a,{style:{whiteSpace:"nowrap",fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},o.a.createElement("div",{style:0===t.sysReDEventStatus||1===t.sysReDEventStatus||4===t.sysReDEventStatus?{backgroundColor:"#fff",border:"solid",borderColor:"rgb(124, 124, 124)",borderWidth:4,borderRadius:40,width:"1vw",height:"1vw"}:{backgroundColor:"green",borderRadius:40,width:"1vw",height:"1vw"}},"\xa0")),o.a.createElement(Ne.a,{style:{fontFamily:"Gotham Rounded Light",color:"#2E384D",fontSize:"1.2vw"}},0===t.sysReDEventStatus||1===t.sysReDEventStatus?"Scheduled":2===t.sysReDEventStatus?"Completed":4===t.sysReDEventStatus?"No Available Power\n to discharge":"Completed and\n Sent Email to Customer"),o.a.createElement(Ne.a,{style:{whiteSpace:"nowrap",color:"#25A8A8",cursor:"pointer",fontSize:"1.2vw",fontFamily:"Gotham Rounded Medium"}},0===t.sysReDEventStatus||1===t.sysReDEventStatus||4===t.sysReDEventStatus?o.a.createElement(_e.a,null):o.a.createElement(Je.a,{onClick:function(a){return e.setState({idPrice:t.sysReDId,price:null===t.sysReDPrice?"":t.sysReDPrice,isEmail:t.sysReDIsEmail,openPriceDialog:!0,namePrice:t.groupname,datePrice:t.sysReDDate,startTimePrice:t.sysReDStartTime,endTimePrice:t.sysReDEndTime,hasCompletedPrice:t.sysReDEventStatus})}})),o.a.createElement(Ne.a,{onClick:function(){return e.onClickEvent(t)},style:{whiteSpace:"nowrap",color:"#25A8A8",cursor:"pointer",fontSize:"1.2vw",fontFamily:"Gotham Rounded Medium"}},"0"===t.sysReDEventStatus?"Edit":"View"))})):""))),o.a.createElement(Ee.a,{fullWidth:!0,open:R,onClose:function(){return e.setState({openPriceDialog:!1})}},o.a.createElement($e.a,{style:{whiteSpace:"nowrap",color:"#25A8A8",cursor:"pointer",fontSize:"1.2vw",fontFamily:"Gotham Rounded Medium"}},"AEMO spot price"),o.a.createElement(be.a,null,o.a.createElement("div",{style:{color:"#BDBDBD",fontFamily:"Gotham Rounded Medium",padding:0,margin:0,fontSize:"1vw"}},"Please enter the AEMO spot price for the completed event on ".concat(V()(E).format("DD/MM/YYYY")," from ").concat(V()(b,"HH:mm").format("HH:mm")," to ").concat(V()(D,"HH:mm").format("HH:mm")," in ").concat(w)),o.a.createElement("div",{style:{width:"15vw",height:"1vw"}}),o.a.createElement(z.a,{InputProps:{startAdornment:o.a.createElement(Xe.a,{position:"start"},"$"),endAdornment:o.a.createElement(Xe.a,{position:"end"},"/MWh")},inputProps:{style:{textAlign:"right"}},disabled:"0"!==j,placeholder:"Enter your price",value:S,name:"price",onChange:function(t){return e.onChange(t,"price",!1)}}),"3"!==C?o.a.createElement(Ve.a,null,o.a.createElement("div",{style:{width:"15vw",height:"5vw"}}),o.a.createElement(H.a,{style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"},disabled:"0"!==j,onClick:function(){return e.onClickSavePrice(k,S)}},"Save"),o.a.createElement(H.a,{onClick:function(){return e.onClickSaveAndSendPrice(k,S)},style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"},disabled:"0"!==j},"Save & Email")):o.a.createElement("div",{style:{width:"15vw",height:"2vw"}})))),o.a.createElement("div",{style:{width:"15vw",height:"27vw"}},o.a.createElement(ge.a,{style:{width:"100%",height:"100%"}},o.a.createElement(ve.a,{style:{display:"flex",height:"100%",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"88%",height:"100%"}},o.a.createElement("div",{style:{display:"flex",height:"100%",flexDirection:"column",justifyContent:"space-evenly",alignItems:"flex-start"}},o.a.createElement(x.a,{style:{color:"#25A8A8",fontFamily:"Gotham Rounded Light",letterSpacing:"1.2133px",paddingBottom:"3%",fontSize:"1vw",textTransform:"uppercase"}},"Filter"),o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Location"),o.a.createElement("div",{style:{width:"100%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement(fe.a,{value:i,styles:Ze,onChange:function(t){e.onChange(t,"filterLocation",!0)},options:g?g.map((function(e){return console.log(e),{value:e.name,label:e.name,id:e.id}})):[]})),o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Date"),o.a.createElement("div",{style:{width:"100%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement(Be.a,{theme:qe},o.a.createElement(Re.a,{utils:Ce.a},o.a.createElement(Se.a,{InputProps:{classes:{}},disableToolbar:!0,style:{padding:0,fontFamily:"Gotham Rounded Medium"},inputVariant:"outlined",format:"DD/MM/YY",placeholder:"Date",onChange:function(t){return e.onChange(t,"filterDate",!0)},value:r})))),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"4%"}},o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Power"),o.a.createElement(x.a,{style:{whiteSpace:"nowrap",color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"".concat(f,"-").concat(y," kWh"))),o.a.createElement(De.a,{classes:{thumb:t.thumb,track:t.track},value:[f,y],onChange:function(t,a){e.setState({touchedPower:!0,filterStartPower:a[0],filterEndPower:a[1]},(function(){return e.onFilterEvents()}))},valueLabelDisplay:"auto","aria-labelledby":"range-slider"}),o.a.createElement(x.a,{style:{width:"30%",paddingRight:"3%",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},"Status"),o.a.createElement("div",{style:{width:"100%",padding:"3% 0 8% 0",color:"#BDBDBD",letterSpacing:"1.5px",fontFamily:"Gotham Rounded Medium"}},o.a.createElement(fe.a,{menuPortalTarget:document.body,styles:Ze,options:[{value:"0",label:"Scheduled"},{value:"1",label:"Completed"}],value:l,onChange:function(t){e.setState({filterStatus:t},(function(){return e.onFilterEvents()}))}})))))))),B.includes("admin")?o.a.createElement("div",{style:{position:"fixed",display:"flex",alignSelf:"flex-end",padding:"0 2vw",bottom:"3%",right:"3%"}},o.a.createElement(we.a,{style:{backgroundColor:"#25A8A8"},onClick:function(){return e.setState({openAddEvent:!0})}},o.a.createElement(Ie.a,{style:{color:"#fff"}}))):""),o.a.createElement(Ee.a,{fullWidth:!0,style:{zIndex:0},open:s,onClose:function(){return e.setState({openAddEvent:!1})}},o.a.createElement(be.a,{style:{height:"28vw"}},o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("div",{style:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",height:"100%"}},o.a.createElement(x.a,{style:{color:"#25A8A8",fontFamily:"Gotham Rounded Light"}},"Add event".toUpperCase()),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Location"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(fe.a,{menuPortalTarget:document.body,styles:Ze,onChange:function(t){return e.onChange(t,"location",!1)},options:g?g.map((function(e){return{value:e.name,label:e.name,id:e.id,maxPower:e.maxPower/1e3}})):[],value:d}))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Date"),o.a.createElement("div",{style:{width:"70%"}},o.a.createElement(Be.a,{theme:qe},o.a.createElement(Re.a,{utils:Ce.a},o.a.createElement(Se.a,{disableToolbar:!0,style:{padding:0,color:"#000",fontFamily:"Gotham Rounded Light"},placeholder:"Date",inputVariant:"outlined",format:"DD/MM/YY",onChange:function(t){return e.onChange(t,"date",!1)},value:u}))))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Time"),o.a.createElement("div",{style:{display:"flex",width:"70%",alignItems:"center"}},o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(z.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===p?"02:00":p,style:{fontFamily:"Gotham Rounded Light"},placeholder:"02:00",onChange:function(t){return e.setState({from:t.target.value})}})),o.a.createElement(x.a,{style:{width:"20%",textAlign:"center",color:"#333",fontFamily:"Gotham Rounded Light"}},"to"),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(z.a,{type:"time",inputProps:{step:"1800"},variant:"outlined",value:null===h?"04:00":h,style:{fontFamily:"Gotham Rounded Light"},placeholder:"04:00",onChange:function(t){return e.setState({to:t.target.value})}})))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"}},o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"Power"),o.a.createElement(x.a,{style:{color:"#333",fontFamily:"Gotham Rounded Light"}},"".concat(c," kW"))),o.a.createElement(De.a,{value:c,"aria-label":"custom thumb label",max:d?d.maxPower:100,onChange:function(t,a){return e.setState({power:a})},classes:{thumb:t.thumb,track:t.track}}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n?o.a.createElement(x.a,{style:{color:"red"}},n):null,A?o.a.createElement(x.a,{style:{color:"red"}},A.value):null),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},o.a.createElement(H.a,{onClick:this.onClickSave,variant:"contained",style:{color:"#fff",textTransform:"none",backgroundColor:"#25A8A8",width:"30%"}},"Save")))))))}}]),t}(n.Component),Qe=Object(M.a)({datePickerInput:{},root:{borderRadius:20,marginBottom:"30px",display:"inline-block",backgroundColor:"orange"},thumb:{backgroundColor:"white",borderStyle:"solid",borderColor:"#25A8A8",borderWidth:"3px"},track:{height:"3px",backgroundColor:"#25A8A8"},dialogContainer:{width:"55vw"}})(Object(h.b)((function(e){return{auth:e.auth}}))(Ke)),et=a(250),tt=a(251),at=localStorage.getItem("username"),nt=localStorage.getItem("password"),ot=(localStorage.getItem("userID"),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={completed:!1,event:{},chartData:[],loading:!0,editClicked:!1,date:"",startTime:"",endTime:"",power:""},a.onChange=function(e,t){switch(console.log("name",t),console.log("e",e),t){case"startTime":return a.setState({startTime:e});case"endTime":return a.setState({endTime:e});default:return a.setState(Object(g.a)({},e.target.name,e.target.value))}},a.onExportEvent=function(){window.open("https://vppspark.shinehub.com.au:8443/backend-service/system/export/")},a.onEditEvent=function(e){console.log("edit event");var t=a.props.location.state,n=a.props.auth,o=(n.isAuthenticated,n.user,a.state),i=o.date,r=o.startTime,l=o.endTime,s=o.power;a.setState({loading:!0}),fetch("https://monitoring.shinehub.com.au/handler/web/Group/handleEditRelationDispatch.php",{method:"POST",body:JSON.stringify({d:JSON.stringify({cvs:{a:e.sysReDId,st:V()(r,"HH:mm").format("HH:mm"),et:V()(l,"HH:mm").format("HH:mm"),d:i,p:s,i:0}})})}).then((function(e){return e.json()})).then((function(e){fetch("https://vppspark.shinehub.com.au:8443/backend-service/event/group/a3eee230-1ced-11ea-8009-4b84bd592adf/date/2019-12-26",{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(at,":").concat(nt)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var n=e.dara.filter((function(e){return e.groupId===t.event.sysReDId}));return a.setState({loading:!1,editClicked:!1,event:n[0],date:n[0].sysReDDate,startTime:V()(n[0].sysReDStartTime,"HH:mm").format("HH:mm"),endTime:V()(n[0].sysReDEndTime,"HH:mm").format("HH:mm"),power:parseInt(n[0].sysReDEstGen),completed:"0"!==n[0].sysReDEventStatus&&"1"!==n[0].sysReDEventStatus})}))}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("this.props",this.props);var t=this.props.location.state,a=this.props.auth,n=(a.isAuthenticated,a.user);console.log("user",n),void 0!==t&&fetch("https://vppspark.shinehub.com.au:8443/backend-service/dashboard/data/group/"+t.event.groupId+"?date="+t.event.sysReDDate,{method:"GET",headers:{Authorization:"Basic "+O.Base64.encode("".concat(at,":").concat(nt)),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){return console.log("chart res",a),console.log("event",t.event),e.setState({loading:!1,event:t.event,date:t.event.sysReDDate,startTime:V()(t.event.sysReDStartTime,"HH:mm"),endTime:V()(t.event.sysReDEndTime,"HH:mm"),power:parseInt(t.event.sysReDEstGen),chartData:a.data?a.data:{},completed:0!==t.event.sysReDEventStatus&&1!==t.event.sysReDEventStatus})}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.completed,i=a.event,r=a.editClicked,l=a.chartData,s=a.loading,c=a.power,d=a.date,m=a.startTime,u=a.endTime,p=this.props.auth,h=(p.isAuthenticated,p.user);return Object.keys(l).length>0&&(e=o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center"}},o.a.createElement(ge.a,{style:{borderRadius:8,width:"100%"}},o.a.createElement(ve.a,{style:{width:"100%"}},o.a.createElement("div",{style:{display:"flex",marginBottom:"6px",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(x.a,{style:{padding:"0 0 3% 8%",color:"#83C4C4",fontSize:"1.3vw",fontFamily:"Gotham Rounded Light"}},"Power".toUpperCase()),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",alignSelf:"flex-end"}},o.a.createElement("div",{style:{display:"flex",paddingRight:"2vw",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#25A8A8",width:"1vw",height:"1vw",borderRadius:50}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282"}},"Available Power")),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{style:{backgroundColor:"#B5D145",width:"1vw",height:"1vw",borderRadius:40}},"\xa0"),o.a.createElement(x.a,{style:{fontSize:"1.5vw",fontFamily:"Gotham Rounded Light",color:"#828282",paddingRight:"28px"}},"Net Grid Power")))),o.a.createElement(X,{time:l.Time,charge:l.NetToGrid,availablePower:l.AvailablePower,netInGrid:l.NetToGrid}))))),o.a.createElement("div",{style:{paddingLeft:"8vw",display:"flex",backgroundColor:"#FBFBFB",width:"90vw",flexDirection:"column",alignItems:"center"}},s?o.a.createElement(ke,null):o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:{width:"100%",padding:"3% 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{variant:"h5",style:{whiteSpace:"nowrap",color:"#2E384D",fontSize:"2.3vw",paddingRight:"1.3vw",fontFamily:"Gotham Rounded Medium"}},i.groupname),o.a.createElement(x.a,{variant:"body2",style:{whiteSpace:"nowrap",color:"#828282",paddingTop:"0.9vw",fontSize:"1.2vw",fontFamily:"Gotham Rounded Light"}},"#".concat(i.sysReDId))),h.includes("admin")?n?o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"20%"}},o.a.createElement(H.a,{onClick:this.onExportEvent,variant:"contained",style:{color:"#fff",backgroundColor:"#25A8A8",width:"7vw",height:"2.3vw",fontSize:"0.7vw",textTransform:"none",fontFamily:"Gotham Rounded Light"}},"Export")):o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"20%"}},o.a.createElement(H.a,{onClick:function(){r?t.onEditEvent(i):t.setState({editClicked:!0})},variant:"contained",style:{color:"#fff",backgroundColor:"#25A8A8",width:"7vw",height:"2.3vw",fontSize:"0.7vw",textTransform:"none",fontFamily:"Gotham Rounded Light"}},"Edit"),o.a.createElement(H.a,{onClick:function(){t.setState({editClicked:!1})},variant:"outlined",style:{color:"#25A8A8",width:"7vw",height:"2.3vw",fontSize:"0.7vw",textTransform:"none",fontFamily:"Gotham Rounded Light"}},"Cancel")):""),o.a.createElement("div",{style:{paddingBottom:"3%",width:"100%",height:"12vw",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(ge.a,{style:{width:"70%",height:"100%",padding:"1% 0"}},o.a.createElement(ve.a,{style:{height:"100%"}},o.a.createElement("div",{style:{display:"flex",height:"100%"}},o.a.createElement("div",{style:{paddingRight:"5%",width:"50%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{paddingBottom:"6%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Date"),r?o.a.createElement(z.a,{name:"date",onChange:this.onChange,value:d}):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},V()(i.sysReDDate).format("DD/MM/YYYY"))),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Time"),r?o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(z.a,{name:"startTime",type:"time",inputProps:{step:"1800"},onChange:this.onChange,value:V()(m,"HH:mm").format("HH:mm")}),"-",o.a.createElement(z.a,{name:"endTime",type:"time",inputProps:{step:"1800"},onChange:this.onChange,value:V()(u,"HH:mm").format("HH:mm")})):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"".concat(V()(i.sysReDStartTime,"HH:mm").format("HH:mm"),"-").concat(V()(i.sysReDEndTime,"HH:mm").format("HH:mm"))))),o.a.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"column",height:"100%",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("div",{style:{paddingBottom:"6%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Power"),r?o.a.createElement(z.a,{name:"power",InputProps:{endAdornment:o.a.createElement(Xe.a,{position:"end"},"kWh")},inputProps:{style:{textAlign:"right"}},value:c,onChange:this.onChange}):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"".concat(i.sysReDTargetCap/1e3," kWh out of ").concat(i.sysReDEstGen," kWh"))),o.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center"}},o.a.createElement(x.a,{style:{color:"#2E384D",fontFamily:"Gotham Rounded Medium",paddingRight:"4vw",fontSize:"1vw"}},"Status"),r?o.a.createElement(x.a,{style:{fontSize:"1vw",color:"#828282",fontFamily:"Gotham Rounded Medium"}},"0"===i.sysReDEventStatus||"1"===i.sysReDEventStatus?"Scheduled":"2"===i.sysReDEventStatus?"Completed":"4"===i.sysReDEventStatus?"No Available Power\n to discharge":"Completed and\n Sent Email to Customer"):o.a.createElement(x.a,{style:{color:"#828282",fontFamily:"Gotham Rounded Medium",fontSize:"1vw"}},"0"===i.sysReDEventStatus||"1"===i.sysReDEventStatus?"Scheduled":"2"===i.sysReDEventStatus?"Completed":"4"===i.sysReDEventStatus?"No Available Power\n to discharge":"Completed and\n Sent Email to Customer")))))),o.a.createElement(ge.a,{style:{width:"25%",height:"100%"}},o.a.createElement(ve.a,null,o.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},o.a.createElement("div",{style:{display:"flex",alignItems:"center",paddingLeft:"5%"}},o.a.createElement(x.a,{style:{fontSize:"4vw",color:"#2E384D",fontFamily:"Gotham Rounded Medium"}},i.sysReDEstGen?i.sysReDEstGen:"N/A"),o.a.createElement(x.a,{style:{fontSize:"1vw",paddingTop:"2vw",fontFamily:"Gotham Rounded Medium"}},i.sysReDEstGen?"kWh":"")),o.a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",paddingLeft:"5%",paddingTop:"0"}},1==parseInt(i.sysReDEventStatus)?o.a.createElement("div",{style:{display:"flex",paddingLeft:"2%",paddingTop:"0",alignItems:"center",width:"100%",height:"100%"}},o.a.createElement(x.a,{style:{paddingTop:"0",fontSize:"1.0vw",paddingLeft:"4px",color:"black",fontWeight:"500"}},"Discharging in progress")):parseInt(i.sysReDCompVal)>0?o.a.createElement("div",{style:{display:"flex",paddingLeft:"2%",paddingTop:"0",alignItems:"center",width:"100%",height:"100%"}},o.a.createElement(et.a,{style:{minWidth:19,maxWidth:50,height:"auto",color:"green"}}),o.a.createElement(x.a,{style:{paddingTop:"0",fontSize:"1.3vw",paddingLeft:"4px",color:"green",fontWeight:"500"}},"".concat(i.sysReDCompVal,"%"))):o.a.createElement("div",{style:{display:"flex",paddingLeft:"2%",paddingTop:"0",alignItems:"center",width:"100%",height:"100%"}},o.a.createElement(tt.a,{style:{minWidth:19,maxWidth:50,height:"auto",color:"red",transform:"rotate(270deg)"}}),o.a.createElement(x.a,{style:{paddingTop:"0",fontSize:"1.3vw",paddingLeft:"4px",color:"red",fontWeight:"500"}},"".concat(i.sysReDCompVal,"%")))))))),e))}}]),t}(n.Component)),it=Object(h.b)((function(e){return{auth:e.auth}}),{})(ot),rt=a(138),lt=Object(h.b)((function(e){return{auth:e.auth}}),{})((function(e){var t=e.component,a=e.auth,n=Object(rt.a)(e,["component","auth"]);return o.a.createElement(p.b,Object.assign({},n,{render:function(e){return a.isAuthenticated?o.a.createElement(he,null,o.a.createElement(t,e)):o.a.createElement(p.a,{to:"/login"})}}))}));if(null!==localStorage.getItem("user")){var st=localStorage.getItem("user"),ct=localStorage.getItem("userID"),dt=localStorage.getItem("username"),mt=localStorage.getItem("password"),ut=JSON.parse(localStorage.getItem("exp"));console.log("time",(new Date).getTime()),console.log("expiretime",ut);!function(){if(ut&&(console.log("date comp",new Date(ut).getTime()<(new Date).getTime()),!(new Date(ut).getTime()<(new Date).getTime())))ue.dispatch({type:"LOGIN",payload:{isAuthenticated:st.length>0,user:st,userid:ct,username:dt,userpassword:mt}})}()}var pt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={event:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.state.event;return o.a.createElement(h.a,{store:ue},o.a.createElement(u.a,null,o.a.createElement(lt,{exact:!0,path:"/",component:Ge}),o.a.createElement(lt,{exact:!0,path:"/events",component:Qe}),o.a.createElement(lt,{exact:!0,path:"/edit-event",component:it}),o.a.createElement(p.b,{exact:!0,path:"/login",component:Me})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,a){e.exports=a.p+"static/media/shinehub-logo.6b9f82db.svg"},88:function(e,t,a){e.exports=a.p+"static/media/icon-analytics.e9c5f666.svg"},89:function(e,t,a){e.exports=a.p+"static/media/Calendar.00b94033.svg"},90:function(e,t,a){e.exports=a.p+"static/media/menu-icon.c089646c.svg"},95:function(e,t,a){e.exports=a.p+"static/media/avatar-icon.07a57232.png"}},[[160,1,2]]]);
//# sourceMappingURL=main.d9becf08.chunk.js.map